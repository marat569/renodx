#include "../shared.h"

Texture2D<float4> HistogramTexture : register(t0);

RWStructuredBuffer<float4> RWEyeAdaptationBuffer : register(u0);

cbuffer _RootShaderParameters : register(b0) {
  float EyeAdaptation_ExposureLowPercent : packoffset(c000.x);
  float EyeAdaptation_ExposureHighPercent : packoffset(c000.y);
  float EyeAdaptation_MinAverageLuminance : packoffset(c000.z);
  float EyeAdaptation_MaxAverageLuminance : packoffset(c000.w);
  float EyeAdaptation_ExposureCompensationSettings : packoffset(c001.x);
  float EyeAdaptation_ExposureCompensationCurve : packoffset(c001.y);
  float EyeAdaptation_DeltaWorldTime : packoffset(c001.z);
  float EyeAdaptation_ExposureSpeedUp : packoffset(c001.w);
  float EyeAdaptation_ExposureSpeedDown : packoffset(c002.x);
  float EyeAdaptation_HistogramScale : packoffset(c002.y);
  float EyeAdaptation_HistogramBias : packoffset(c002.z);
  float EyeAdaptation_LuminanceMin : packoffset(c002.w);
  float EyeAdaptation_BlackHistogramBucketInfluence : packoffset(c003.x);
  float EyeAdaptation_GreyMult : packoffset(c003.y);
  float EyeAdaptation_ExponentialUpM : packoffset(c003.z);
  float EyeAdaptation_ExponentialDownM : packoffset(c003.w);
  float EyeAdaptation_StartDistance : packoffset(c004.x);
  float EyeAdaptation_LuminanceMax : packoffset(c004.y);
  float EyeAdaptation_IgnoreMaterialsEvaluationPositionBias : packoffset(c004.z);
  float EyeAdaptation_IgnoreMaterialsLuminanceScale : packoffset(c004.w);
  float EyeAdaptation_IgnoreMaterialsMinBaseColorLuminance : packoffset(c005.x);
  uint EyeAdaptation_IgnoreMaterialsReconstructFromSceneColor : packoffset(c005.y);
  float EyeAdaptation_ForceTarget : packoffset(c005.z);
  int EyeAdaptation_VisualizeDebugType : packoffset(c005.w);
  float LocalExposure_HighlightContrastScale : packoffset(c007.x);
  float LocalExposure_ShadowContrastScale : packoffset(c007.y);
  float LocalExposure_DetailStrength : packoffset(c007.z);
  float LocalExposure_BlurredLuminanceBlend : packoffset(c007.w);
  float LocalExposure_MiddleGreyExposureCompensation : packoffset(c008.x);
  float2 LocalExposure_BilateralGridUVScale : packoffset(c008.z);
};

[numthreads(1, 1, 1)]
void main(
    uint3 SV_DispatchThreadID: SV_DispatchThreadID,
    uint3 SV_GroupID: SV_GroupID,
    uint3 SV_GroupThreadID: SV_GroupThreadID,
    uint SV_GroupIndex: SV_GroupIndex) {
  float _5;
  int _6;
  float _865;
  _5 = 0.0f;
  _6 = 0;
  while (true) {
    int _7 = (uint)(_6) >> 2;
    float4 _9 = HistogramTexture.Load(int3(_7, 0, 0));
    int _14 = _6 & 3;
    bool _15 = (_14 == 1);
    float _16 = select(_15, _9.y, _9.x);
    bool _17 = (_14 == 2);
    float _18 = select(_17, _9.z, _16);
    bool _19 = (_14 == 3);
    float _20 = select(_19, _9.w, _18);
    float _21 = _20 + _5;
    int _22 = _6 + 1;
    bool _23 = (_22 == 64);
    if (!_23) {
      _5 = _21;
      _6 = _22;
      continue;
    }
    float _28 = EyeAdaptation_ExposureHighPercent * _21;
    float _30 = EyeAdaptation_ExposureLowPercent * _21;
    float4 _31 = HistogramTexture.Load(int3(0, 0, 0));
    float _33 = min(_31.x, _30);
    float _34 = _31.x - _33;
    float _35 = _30 - _33;
    float _36 = _28 - _33;
    float _37 = min(_34, _36);
    float _38 = _36 - _37;
    float _41 = -0.0f - EyeAdaptation_HistogramBias;
    float _43 = _41 / EyeAdaptation_HistogramScale;
    float _44 = _43 * _37;
    float _46 = min(_31.y, _35);
    float _47 = _31.y - _46;
    float _48 = _35 - _46;
    float _49 = _38 - _46;
    float _50 = min(_47, _49);
    float _51 = _49 - _50;
    float _52 = 0.01587301678955555f - EyeAdaptation_HistogramBias;
    float _53 = _52 / EyeAdaptation_HistogramScale;
    float _54 = _53 * _50;
    float _55 = _54 + _44;
    float _56 = _50 + _37;
    float _58 = min(_31.z, _48);
    float _59 = _31.z - _58;
    float _60 = _48 - _58;
    float _61 = _51 - _58;
    float _62 = min(_59, _61);
    float _63 = _61 - _62;
    float _64 = 0.0317460335791111f - EyeAdaptation_HistogramBias;
    float _65 = _64 / EyeAdaptation_HistogramScale;
    float _66 = _65 * _62;
    float _67 = _55 + _66;
    float _68 = _56 + _62;
    float _70 = min(_31.w, _60);
    float _71 = _31.w - _70;
    float _72 = _60 - _70;
    float _73 = _63 - _70;
    float _74 = min(_71, _73);
    float _75 = _73 - _74;
    float _76 = 0.0476190485060215f - EyeAdaptation_HistogramBias;
    float _77 = _76 / EyeAdaptation_HistogramScale;
    float _78 = _77 * _74;
    float _79 = _67 + _78;
    float _80 = _68 + _74;
    float4 _81 = HistogramTexture.Load(int3(1, 0, 0));
    float _83 = min(_81.x, _72);
    float _84 = _81.x - _83;
    float _85 = _72 - _83;
    float _86 = _75 - _83;
    float _87 = min(_84, _86);
    float _88 = _86 - _87;
    float _89 = 0.0634920671582222f - EyeAdaptation_HistogramBias;
    float _90 = _89 / EyeAdaptation_HistogramScale;
    float _91 = _90 * _87;
    float _92 = _79 + _91;
    float _93 = _80 + _87;
    float _95 = min(_81.y, _85);
    float _96 = _81.y - _95;
    float _97 = _85 - _95;
    float _98 = _88 - _95;
    float _99 = min(_96, _98);
    float _100 = _98 - _99;
    float _101 = 0.0793650820851326f - EyeAdaptation_HistogramBias;
    float _102 = _101 / EyeAdaptation_HistogramScale;
    float _103 = _102 * _99;
    float _104 = _92 + _103;
    float _105 = _93 + _99;
    float _107 = min(_81.z, _97);
    float _108 = _81.z - _107;
    float _109 = _97 - _107;
    float _110 = _100 - _107;
    float _111 = min(_108, _110);
    float _112 = _110 - _111;
    float _113 = 0.095238097012043f - EyeAdaptation_HistogramBias;
    float _114 = _113 / EyeAdaptation_HistogramScale;
    float _115 = _114 * _111;
    float _116 = _104 + _115;
    float _117 = _105 + _111;
    float _119 = min(_81.w, _109);
    float _120 = _81.w - _119;
    float _121 = _109 - _119;
    float _122 = _112 - _119;
    float _123 = min(_120, _122);
    float _124 = _122 - _123;
    float _125 = 0.1111111119389534f - EyeAdaptation_HistogramBias;
    float _126 = _125 / EyeAdaptation_HistogramScale;
    float _127 = _126 * _123;
    float _128 = _116 + _127;
    float _129 = _117 + _123;
    float4 _130 = HistogramTexture.Load(int3(2, 0, 0));
    float _132 = min(_130.x, _121);
    float _133 = _130.x - _132;
    float _134 = _121 - _132;
    float _135 = _124 - _132;
    float _136 = min(_133, _135);
    float _137 = _135 - _136;
    float _138 = 0.1269841343164444f - EyeAdaptation_HistogramBias;
    float _139 = _138 / EyeAdaptation_HistogramScale;
    float _140 = _139 * _136;
    float _141 = _128 + _140;
    float _142 = _129 + _136;
    float _144 = min(_130.y, _134);
    float _145 = _130.y - _144;
    float _146 = _134 - _144;
    float _147 = _137 - _144;
    float _148 = min(_145, _147);
    float _149 = _147 - _148;
    float _150 = 0.1428571492433548f - EyeAdaptation_HistogramBias;
    float _151 = _150 / EyeAdaptation_HistogramScale;
    float _152 = _151 * _148;
    float _153 = _141 + _152;
    float _154 = _142 + _148;
    float _156 = min(_130.z, _146);
    float _157 = _130.z - _156;
    float _158 = _146 - _156;
    float _159 = _149 - _156;
    float _160 = min(_157, _159);
    float _161 = _159 - _160;
    float _162 = 0.1587301641702652f - EyeAdaptation_HistogramBias;
    float _163 = _162 / EyeAdaptation_HistogramScale;
    float _164 = _163 * _160;
    float _165 = _153 + _164;
    float _166 = _154 + _160;
    float _168 = min(_130.w, _158);
    float _169 = _130.w - _168;
    float _170 = _158 - _168;
    float _171 = _161 - _168;
    float _172 = min(_169, _171);
    float _173 = _171 - _172;
    float _174 = 0.1746031790971756f - EyeAdaptation_HistogramBias;
    float _175 = _174 / EyeAdaptation_HistogramScale;
    float _176 = _175 * _172;
    float _177 = _165 + _176;
    float _178 = _166 + _172;
    float4 _179 = HistogramTexture.Load(int3(3, 0, 0));
    float _181 = min(_179.x, _170);
    float _182 = _179.x - _181;
    float _183 = _170 - _181;
    float _184 = _173 - _181;
    float _185 = min(_182, _184);
    float _186 = _184 - _185;
    float _187 = 0.190476194024086f - EyeAdaptation_HistogramBias;
    float _188 = _187 / EyeAdaptation_HistogramScale;
    float _189 = _188 * _185;
    float _190 = _177 + _189;
    float _191 = _178 + _185;
    float _193 = min(_179.y, _183);
    float _194 = _179.y - _193;
    float _195 = _183 - _193;
    float _196 = _186 - _193;
    float _197 = min(_194, _196);
    float _198 = _196 - _197;
    float _199 = 0.2063492089509964f - EyeAdaptation_HistogramBias;
    float _200 = _199 / EyeAdaptation_HistogramScale;
    float _201 = _200 * _197;
    float _202 = _190 + _201;
    float _203 = _191 + _197;
    float _205 = min(_179.z, _195);
    float _206 = _179.z - _205;
    float _207 = _195 - _205;
    float _208 = _198 - _205;
    float _209 = min(_206, _208);
    float _210 = _208 - _209;
    float _211 = 0.2222222238779068f - EyeAdaptation_HistogramBias;
    float _212 = _211 / EyeAdaptation_HistogramScale;
    float _213 = _212 * _209;
    float _214 = _202 + _213;
    float _215 = _203 + _209;
    float _217 = min(_179.w, _207);
    float _218 = _179.w - _217;
    float _219 = _207 - _217;
    float _220 = _210 - _217;
    float _221 = min(_218, _220);
    float _222 = _220 - _221;
    float _223 = 0.2380952388048172f - EyeAdaptation_HistogramBias;
    float _224 = _223 / EyeAdaptation_HistogramScale;
    float _225 = _224 * _221;
    float _226 = _214 + _225;
    float _227 = _215 + _221;
    float4 _228 = HistogramTexture.Load(int3(4, 0, 0));
    float _230 = min(_228.x, _219);
    float _231 = _228.x - _230;
    float _232 = _219 - _230;
    float _233 = _222 - _230;
    float _234 = min(_231, _233);
    float _235 = _233 - _234;
    float _236 = 0.2539682686328888f - EyeAdaptation_HistogramBias;
    float _237 = _236 / EyeAdaptation_HistogramScale;
    float _238 = _237 * _234;
    float _239 = _226 + _238;
    float _240 = _227 + _234;
    float _242 = min(_228.y, _232);
    float _243 = _228.y - _242;
    float _244 = _232 - _242;
    float _245 = _235 - _242;
    float _246 = min(_243, _245);
    float _247 = _245 - _246;
    float _248 = 0.2698412835597992f - EyeAdaptation_HistogramBias;
    float _249 = _248 / EyeAdaptation_HistogramScale;
    float _250 = _249 * _246;
    float _251 = _239 + _250;
    float _252 = _240 + _246;
    float _254 = min(_228.z, _244);
    float _255 = _228.z - _254;
    float _256 = _244 - _254;
    float _257 = _247 - _254;
    float _258 = min(_255, _257);
    float _259 = _257 - _258;
    float _260 = 0.2857142984867096f - EyeAdaptation_HistogramBias;
    float _261 = _260 / EyeAdaptation_HistogramScale;
    float _262 = _261 * _258;
    float _263 = _251 + _262;
    float _264 = _252 + _258;
    float _266 = min(_228.w, _256);
    float _267 = _228.w - _266;
    float _268 = _256 - _266;
    float _269 = _259 - _266;
    float _270 = min(_267, _269);
    float _271 = _269 - _270;
    float _272 = 0.30158731341362f - EyeAdaptation_HistogramBias;
    float _273 = _272 / EyeAdaptation_HistogramScale;
    float _274 = _273 * _270;
    float _275 = _263 + _274;
    float _276 = _264 + _270;
    float4 _277 = HistogramTexture.Load(int3(5, 0, 0));
    float _279 = min(_277.x, _268);
    float _280 = _277.x - _279;
    float _281 = _268 - _279;
    float _282 = _271 - _279;
    float _283 = min(_280, _282);
    float _284 = _282 - _283;
    float _285 = 0.3174603283405304f - EyeAdaptation_HistogramBias;
    float _286 = _285 / EyeAdaptation_HistogramScale;
    float _287 = _286 * _283;
    float _288 = _275 + _287;
    float _289 = _276 + _283;
    float _291 = min(_277.y, _281);
    float _292 = _277.y - _291;
    float _293 = _281 - _291;
    float _294 = _284 - _291;
    float _295 = min(_292, _294);
    float _296 = _294 - _295;
    float _297 = 0.3333333432674408f - EyeAdaptation_HistogramBias;
    float _298 = _297 / EyeAdaptation_HistogramScale;
    float _299 = _298 * _295;
    float _300 = _288 + _299;
    float _301 = _289 + _295;
    float _303 = min(_277.z, _293);
    float _304 = _277.z - _303;
    float _305 = _293 - _303;
    float _306 = _296 - _303;
    float _307 = min(_304, _306);
    float _308 = _306 - _307;
    float _309 = 0.3492063581943512f - EyeAdaptation_HistogramBias;
    float _310 = _309 / EyeAdaptation_HistogramScale;
    float _311 = _310 * _307;
    float _312 = _300 + _311;
    float _313 = _301 + _307;
    float _315 = min(_277.w, _305);
    float _316 = _277.w - _315;
    float _317 = _305 - _315;
    float _318 = _308 - _315;
    float _319 = min(_316, _318);
    float _320 = _318 - _319;
    float _321 = 0.3650793731212616f - EyeAdaptation_HistogramBias;
    float _322 = _321 / EyeAdaptation_HistogramScale;
    float _323 = _322 * _319;
    float _324 = _312 + _323;
    float _325 = _313 + _319;
    float4 _326 = HistogramTexture.Load(int3(6, 0, 0));
    float _328 = min(_326.x, _317);
    float _329 = _326.x - _328;
    float _330 = _317 - _328;
    float _331 = _320 - _328;
    float _332 = min(_329, _331);
    float _333 = _331 - _332;
    float _334 = 0.380952388048172f - EyeAdaptation_HistogramBias;
    float _335 = _334 / EyeAdaptation_HistogramScale;
    float _336 = _335 * _332;
    float _337 = _324 + _336;
    float _338 = _325 + _332;
    float _340 = min(_326.y, _330);
    float _341 = _326.y - _340;
    float _342 = _330 - _340;
    float _343 = _333 - _340;
    float _344 = min(_341, _343);
    float _345 = _343 - _344;
    float _346 = 0.3968254029750824f - EyeAdaptation_HistogramBias;
    float _347 = _346 / EyeAdaptation_HistogramScale;
    float _348 = _347 * _344;
    float _349 = _337 + _348;
    float _350 = _338 + _344;
    float _352 = min(_326.z, _342);
    float _353 = _326.z - _352;
    float _354 = _342 - _352;
    float _355 = _345 - _352;
    float _356 = min(_353, _355);
    float _357 = _355 - _356;
    float _358 = 0.4126984179019928f - EyeAdaptation_HistogramBias;
    float _359 = _358 / EyeAdaptation_HistogramScale;
    float _360 = _359 * _356;
    float _361 = _349 + _360;
    float _362 = _350 + _356;
    float _364 = min(_326.w, _354);
    float _365 = _326.w - _364;
    float _366 = _354 - _364;
    float _367 = _357 - _364;
    float _368 = min(_365, _367);
    float _369 = _367 - _368;
    float _370 = 0.4285714328289032f - EyeAdaptation_HistogramBias;
    float _371 = _370 / EyeAdaptation_HistogramScale;
    float _372 = _371 * _368;
    float _373 = _361 + _372;
    float _374 = _362 + _368;
    float4 _375 = HistogramTexture.Load(int3(7, 0, 0));
    float _377 = min(_375.x, _366);
    float _378 = _375.x - _377;
    float _379 = _366 - _377;
    float _380 = _369 - _377;
    float _381 = min(_378, _380);
    float _382 = _380 - _381;
    float _383 = 0.4444444477558136f - EyeAdaptation_HistogramBias;
    float _384 = _383 / EyeAdaptation_HistogramScale;
    float _385 = _384 * _381;
    float _386 = _373 + _385;
    float _387 = _374 + _381;
    float _389 = min(_375.y, _379);
    float _390 = _375.y - _389;
    float _391 = _379 - _389;
    float _392 = _382 - _389;
    float _393 = min(_390, _392);
    float _394 = _392 - _393;
    float _395 = 0.460317462682724f - EyeAdaptation_HistogramBias;
    float _396 = _395 / EyeAdaptation_HistogramScale;
    float _397 = _396 * _393;
    float _398 = _386 + _397;
    float _399 = _387 + _393;
    float _401 = min(_375.z, _391);
    float _402 = _375.z - _401;
    float _403 = _391 - _401;
    float _404 = _394 - _401;
    float _405 = min(_402, _404);
    float _406 = _404 - _405;
    float _407 = 0.4761904776096344f - EyeAdaptation_HistogramBias;
    float _408 = _407 / EyeAdaptation_HistogramScale;
    float _409 = _408 * _405;
    float _410 = _398 + _409;
    float _411 = _399 + _405;
    float _413 = min(_375.w, _403);
    float _414 = _375.w - _413;
    float _415 = _403 - _413;
    float _416 = _406 - _413;
    float _417 = min(_414, _416);
    float _418 = _416 - _417;
    float _419 = 0.4920634925365448f - EyeAdaptation_HistogramBias;
    float _420 = _419 / EyeAdaptation_HistogramScale;
    float _421 = _420 * _417;
    float _422 = _410 + _421;
    float _423 = _411 + _417;
    float4 _424 = HistogramTexture.Load(int3(8, 0, 0));
    float _426 = min(_424.x, _415);
    float _427 = _424.x - _426;
    float _428 = _415 - _426;
    float _429 = _418 - _426;
    float _430 = min(_427, _429);
    float _431 = _429 - _430;
    float _432 = 0.5079365372657776f - EyeAdaptation_HistogramBias;
    float _433 = _432 / EyeAdaptation_HistogramScale;
    float _434 = _433 * _430;
    float _435 = _422 + _434;
    float _436 = _423 + _430;
    float _438 = min(_424.y, _428);
    float _439 = _424.y - _438;
    float _440 = _428 - _438;
    float _441 = _431 - _438;
    float _442 = min(_439, _441);
    float _443 = _441 - _442;
    float _444 = 0.523809552192688f - EyeAdaptation_HistogramBias;
    float _445 = _444 / EyeAdaptation_HistogramScale;
    float _446 = _445 * _442;
    float _447 = _435 + _446;
    float _448 = _436 + _442;
    float _450 = min(_424.z, _440);
    float _451 = _424.z - _450;
    float _452 = _440 - _450;
    float _453 = _443 - _450;
    float _454 = min(_451, _453);
    float _455 = _453 - _454;
    float _456 = 0.5396825671195984f - EyeAdaptation_HistogramBias;
    float _457 = _456 / EyeAdaptation_HistogramScale;
    float _458 = _457 * _454;
    float _459 = _447 + _458;
    float _460 = _448 + _454;
    float _462 = min(_424.w, _452);
    float _463 = _424.w - _462;
    float _464 = _452 - _462;
    float _465 = _455 - _462;
    float _466 = min(_463, _465);
    float _467 = _465 - _466;
    float _468 = 0.5555555820465088f - EyeAdaptation_HistogramBias;
    float _469 = _468 / EyeAdaptation_HistogramScale;
    float _470 = _469 * _466;
    float _471 = _459 + _470;
    float _472 = _460 + _466;
    float4 _473 = HistogramTexture.Load(int3(9, 0, 0));
    float _475 = min(_473.x, _464);
    float _476 = _473.x - _475;
    float _477 = _464 - _475;
    float _478 = _467 - _475;
    float _479 = min(_476, _478);
    float _480 = _478 - _479;
    float _481 = 0.5714285969734192f - EyeAdaptation_HistogramBias;
    float _482 = _481 / EyeAdaptation_HistogramScale;
    float _483 = _482 * _479;
    float _484 = _471 + _483;
    float _485 = _472 + _479;
    float _487 = min(_473.y, _477);
    float _488 = _473.y - _487;
    float _489 = _477 - _487;
    float _490 = _480 - _487;
    float _491 = min(_488, _490);
    float _492 = _490 - _491;
    float _493 = 0.5873016119003296f - EyeAdaptation_HistogramBias;
    float _494 = _493 / EyeAdaptation_HistogramScale;
    float _495 = _494 * _491;
    float _496 = _484 + _495;
    float _497 = _485 + _491;
    float _499 = min(_473.z, _489);
    float _500 = _473.z - _499;
    float _501 = _489 - _499;
    float _502 = _492 - _499;
    float _503 = min(_500, _502);
    float _504 = _502 - _503;
    float _505 = 0.60317462682724f - EyeAdaptation_HistogramBias;
    float _506 = _505 / EyeAdaptation_HistogramScale;
    float _507 = _506 * _503;
    float _508 = _496 + _507;
    float _509 = _497 + _503;
    float _511 = min(_473.w, _501);
    float _512 = _473.w - _511;
    float _513 = _501 - _511;
    float _514 = _504 - _511;
    float _515 = min(_512, _514);
    float _516 = _514 - _515;
    float _517 = 0.6190476417541504f - EyeAdaptation_HistogramBias;
    float _518 = _517 / EyeAdaptation_HistogramScale;
    float _519 = _518 * _515;
    float _520 = _508 + _519;
    float _521 = _509 + _515;
    float4 _522 = HistogramTexture.Load(int3(10, 0, 0));
    float _524 = min(_522.x, _513);
    float _525 = _522.x - _524;
    float _526 = _513 - _524;
    float _527 = _516 - _524;
    float _528 = min(_525, _527);
    float _529 = _527 - _528;
    float _530 = 0.6349206566810608f - EyeAdaptation_HistogramBias;
    float _531 = _530 / EyeAdaptation_HistogramScale;
    float _532 = _531 * _528;
    float _533 = _520 + _532;
    float _534 = _521 + _528;
    float4 _536 = HistogramTexture.Load(int3(10, 0, 0));
    float _538 = min(_536.y, _526);
    float _539 = _536.y - _538;
    float _540 = _526 - _538;
    float _541 = _529 - _538;
    float _542 = min(_539, _541);
    float _543 = _541 - _542;
    float _546 = 0.6507936716079712f - EyeAdaptation_HistogramBias;
    float _548 = _546 / EyeAdaptation_HistogramScale;
    float _549 = _548 * _542;
    float _550 = _533 + _549;
    float _551 = _534 + _542;
    float _553 = min(_536.z, _540);
    float _554 = _536.z - _553;
    float _555 = _540 - _553;
    float _556 = _543 - _553;
    float _557 = min(_554, _556);
    float _558 = _556 - _557;
    float _559 = 0.6666666865348816f - EyeAdaptation_HistogramBias;
    float _560 = _559 / EyeAdaptation_HistogramScale;
    float _561 = _560 * _557;
    float _562 = _550 + _561;
    float _563 = _551 + _557;
    float _565 = min(_536.w, _555);
    float _566 = _536.w - _565;
    float _567 = _555 - _565;
    float _568 = _558 - _565;
    float _569 = min(_566, _568);
    float _570 = _568 - _569;
    float _571 = 0.682539701461792f - EyeAdaptation_HistogramBias;
    float _572 = _571 / EyeAdaptation_HistogramScale;
    float _573 = _572 * _569;
    float _574 = _562 + _573;
    float _575 = _563 + _569;
    float4 _576 = HistogramTexture.Load(int3(11, 0, 0));
    float _578 = min(_576.x, _567);
    float _579 = _576.x - _578;
    float _580 = _567 - _578;
    float _581 = _570 - _578;
    float _582 = min(_579, _581);
    float _583 = _581 - _582;
    float _584 = 0.6984127163887024f - EyeAdaptation_HistogramBias;
    float _585 = _584 / EyeAdaptation_HistogramScale;
    float _586 = _585 * _582;
    float _587 = _574 + _586;
    float _588 = _575 + _582;
    float _590 = min(_576.y, _580);
    float _591 = _576.y - _590;
    float _592 = _580 - _590;
    float _593 = _583 - _590;
    float _594 = min(_591, _593);
    float _595 = _593 - _594;
    float _596 = 0.7142857313156128f - EyeAdaptation_HistogramBias;
    float _597 = _596 / EyeAdaptation_HistogramScale;
    float _598 = _597 * _594;
    float _599 = _587 + _598;
    float _600 = _588 + _594;
    float _602 = min(_576.z, _592);
    float _603 = _576.z - _602;
    float _604 = _592 - _602;
    float _605 = _595 - _602;
    float _606 = min(_603, _605);
    float _607 = _605 - _606;
    float _608 = 0.7301587462425232f - EyeAdaptation_HistogramBias;
    float _609 = _608 / EyeAdaptation_HistogramScale;
    float _610 = _609 * _606;
    float _611 = _599 + _610;
    float _612 = _600 + _606;
    float _614 = min(_576.w, _604);
    float _615 = _576.w - _614;
    float _616 = _604 - _614;
    float _617 = _607 - _614;
    float _618 = min(_615, _617);
    float _619 = _617 - _618;
    float _620 = 0.7460317611694336f - EyeAdaptation_HistogramBias;
    float _621 = _620 / EyeAdaptation_HistogramScale;
    float _622 = _621 * _618;
    float _623 = _611 + _622;
    float _624 = _612 + _618;
    float4 _625 = HistogramTexture.Load(int3(12, 0, 0));
    float _627 = min(_625.x, _616);
    float _628 = _625.x - _627;
    float _629 = _616 - _627;
    float _630 = _619 - _627;
    float _631 = min(_628, _630);
    float _632 = _630 - _631;
    float _633 = 0.761904776096344f - EyeAdaptation_HistogramBias;
    float _634 = _633 / EyeAdaptation_HistogramScale;
    float _635 = _634 * _631;
    float _636 = _623 + _635;
    float _637 = _624 + _631;
    float _639 = min(_625.y, _629);
    float _640 = _625.y - _639;
    float _641 = _629 - _639;
    float _642 = _632 - _639;
    float _643 = min(_640, _642);
    float _644 = _642 - _643;
    float _645 = 0.7777777910232544f - EyeAdaptation_HistogramBias;
    float _646 = _645 / EyeAdaptation_HistogramScale;
    float _647 = _646 * _643;
    float _648 = _636 + _647;
    float _649 = _637 + _643;
    float _651 = min(_625.z, _641);
    float _652 = _625.z - _651;
    float _653 = _641 - _651;
    float _654 = _644 - _651;
    float _655 = min(_652, _654);
    float _656 = _654 - _655;
    float _657 = 0.7936508059501648f - EyeAdaptation_HistogramBias;
    float _658 = _657 / EyeAdaptation_HistogramScale;
    float _659 = _658 * _655;
    float _660 = _648 + _659;
    float _661 = _649 + _655;
    float _663 = min(_625.w, _653);
    float _664 = _625.w - _663;
    float _665 = _653 - _663;
    float _666 = _656 - _663;
    float _667 = min(_664, _666);
    float _668 = _666 - _667;
    float _669 = 0.8095238208770752f - EyeAdaptation_HistogramBias;
    float _670 = _669 / EyeAdaptation_HistogramScale;
    float _671 = _670 * _667;
    float _672 = _660 + _671;
    float _673 = _661 + _667;
    float4 _674 = HistogramTexture.Load(int3(13, 0, 0));
    float _676 = min(_674.x, _665);
    float _677 = _674.x - _676;
    float _678 = _665 - _676;
    float _679 = _668 - _676;
    float _680 = min(_677, _679);
    float _681 = _679 - _680;
    float _682 = 0.8253968358039856f - EyeAdaptation_HistogramBias;
    float _683 = _682 / EyeAdaptation_HistogramScale;
    float _684 = _683 * _680;
    float _685 = _672 + _684;
    float _686 = _673 + _680;
    float _688 = min(_674.y, _678);
    float _689 = _674.y - _688;
    float _690 = _678 - _688;
    float _691 = _681 - _688;
    float _692 = min(_689, _691);
    float _693 = _691 - _692;
    float _694 = 0.841269850730896f - EyeAdaptation_HistogramBias;
    float _695 = _694 / EyeAdaptation_HistogramScale;
    float _696 = _695 * _692;
    float _697 = _685 + _696;
    float _698 = _686 + _692;
    float _700 = min(_674.z, _690);
    float _701 = _674.z - _700;
    float _702 = _690 - _700;
    float _703 = _693 - _700;
    float _704 = min(_701, _703);
    float _705 = _703 - _704;
    float _706 = 0.8571428656578064f - EyeAdaptation_HistogramBias;
    float _707 = _706 / EyeAdaptation_HistogramScale;
    float _708 = _707 * _704;
    float _709 = _697 + _708;
    float _710 = _698 + _704;
    float _712 = min(_674.w, _702);
    float _713 = _674.w - _712;
    float _714 = _702 - _712;
    float _715 = _705 - _712;
    float _716 = min(_713, _715);
    float _717 = _715 - _716;
    float _718 = 0.8730158805847168f - EyeAdaptation_HistogramBias;
    float _719 = _718 / EyeAdaptation_HistogramScale;
    float _720 = _719 * _716;
    float _721 = _709 + _720;
    float _722 = _710 + _716;
    float4 _723 = HistogramTexture.Load(int3(14, 0, 0));
    float _725 = min(_723.x, _714);
    float _726 = _723.x - _725;
    float _727 = _714 - _725;
    float _728 = _717 - _725;
    float _729 = min(_726, _728);
    float _730 = _728 - _729;
    float _731 = 0.8888888955116272f - EyeAdaptation_HistogramBias;
    float _732 = _731 / EyeAdaptation_HistogramScale;
    float _733 = _732 * _729;
    float _734 = _721 + _733;
    float _735 = _722 + _729;
    float _737 = min(_723.y, _727);
    float _738 = _723.y - _737;
    float _739 = _727 - _737;
    float _740 = _730 - _737;
    float _741 = min(_738, _740);
    float _742 = _740 - _741;
    float _743 = 0.9047619104385376f - EyeAdaptation_HistogramBias;
    float _744 = _743 / EyeAdaptation_HistogramScale;
    float _745 = _744 * _741;
    float _746 = _734 + _745;
    float _747 = _735 + _741;
    float _749 = min(_723.z, _739);
    float _750 = _723.z - _749;
    float _751 = _739 - _749;
    float _752 = _742 - _749;
    float _753 = min(_750, _752);
    float _754 = _752 - _753;
    float _755 = 0.920634925365448f - EyeAdaptation_HistogramBias;
    float _756 = _755 / EyeAdaptation_HistogramScale;
    float _757 = _756 * _753;
    float _758 = _746 + _757;
    float _759 = _747 + _753;
    float _761 = min(_723.w, _751);
    float _762 = _723.w - _761;
    float _763 = _751 - _761;
    float _764 = _754 - _761;
    float _765 = min(_762, _764);
    float _766 = _764 - _765;
    float _767 = 0.9365079402923584f - EyeAdaptation_HistogramBias;
    float _768 = _767 / EyeAdaptation_HistogramScale;
    float _769 = _768 * _765;
    float _770 = _758 + _769;
    float _771 = _759 + _765;
    float4 _772 = HistogramTexture.Load(int3(15, 0, 0));
    float _774 = min(_772.x, _763);
    float _775 = _772.x - _774;
    float _776 = _763 - _774;
    float _777 = _766 - _774;
    float _778 = min(_775, _777);
    float _779 = _777 - _778;
    float _780 = 0.9523809552192688f - EyeAdaptation_HistogramBias;
    float _781 = _780 / EyeAdaptation_HistogramScale;
    float _782 = _781 * _778;
    float _783 = _770 + _782;
    float _784 = _771 + _778;
    float _786 = min(_772.y, _776);
    float _787 = _772.y - _786;
    float _788 = _776 - _786;
    float _789 = _779 - _786;
    float _790 = min(_787, _789);
    float _791 = _789 - _790;
    float _792 = 0.9682539701461792f - EyeAdaptation_HistogramBias;
    float _793 = _792 / EyeAdaptation_HistogramScale;
    float _794 = _793 * _790;
    float _795 = _783 + _794;
    float _796 = _784 + _790;
    float _798 = min(_772.z, _788);
    float _799 = _772.z - _798;
    float _800 = _788 - _798;
    float _801 = _791 - _798;
    float _802 = min(_799, _801);
    float _803 = _801 - _802;
    float _804 = 0.9841269850730896f - EyeAdaptation_HistogramBias;
    float _805 = _804 / EyeAdaptation_HistogramScale;
    float _806 = _805 * _802;
    float _807 = _795 + _806;
    float _808 = _796 + _802;
    float _810 = min(_772.w, _800);
    float _811 = _772.w - _810;
    float _812 = _803 - _810;
    float _813 = min(_811, _812);
    float _814 = 1.0f - EyeAdaptation_HistogramBias;
    float _815 = _814 / EyeAdaptation_HistogramScale;
    float _816 = _815 * _813;
    float _817 = _807 + _816;
    float _818 = _808 + _813;
    float _819 = max(9.999999747378752e-05f, _818);
    float _820 = _817 / _819;
    float _821 = exp2(_820);
    float4 _822 = HistogramTexture.Load(int3(0, 1, 0));
    float _827 = max(_821, EyeAdaptation_MinAverageLuminance);
    float _828 = min(_827, EyeAdaptation_MaxAverageLuminance);
    float _829 = _828 * 5.55555534362793f;
    float _833 = EyeAdaptation_ExposureCompensationCurve * EyeAdaptation_ExposureCompensationSettings;
    bool _834 = !(_822.x == 0.0f);
    float _835 = select(_834, _822.x, 1.0f);
    float _836 = _833 / _835;
    float _838 = log2(_829);
    float _839 = log2(_836);
    float _840 = _838 - _839;
    bool _841 = (_840 > 0.0f);
    float _844 = select(_841, EyeAdaptation_ExposureSpeedUp, EyeAdaptation_ExposureSpeedDown);
    float _848 = select(_841, EyeAdaptation_ExponentialUpM, EyeAdaptation_ExponentialDownM);
    float _849 = abs(_840);
    float _850 = EyeAdaptation_DeltaWorldTime * _844;
    float _851 = -0.0f - _850;
    float _852 = exp2(_851);
    float _853 = 1.0f - _852;
    float _854 = _848 * _840;
    float _855 = _854 * _853;
    float _856 = _855 + _839;
    bool _857 = (_839 < _838);
    if (_857) {
      float _859 = _850 + _839;
      float _860 = min(_838, _859);
      _865 = _860;
    } else {
      float _862 = _839 - _850;
      float _863 = max(_838, _862);
      _865 = _863;
    }
    bool _868 = (_849 > EyeAdaptation_StartDistance);
    float _869 = select(_868, _865, _856);
    float _870 = exp2(_869);
    float _873 = _829 - _870;
    float _874 = EyeAdaptation_ForceTarget * _873;
    float _875 = _874 + _870;
    float _876 = EyeAdaptation_MaxAverageLuminance * 5.55555534362793f;
    float _877 = EyeAdaptation_MinAverageLuminance * 5.55555534362793f;
    float _878 = max(_875, _877);
    float _879 = min(_878, _876);
    float _880 = max(9.999999747378752e-05f, _879);
    float _881 = 1.0f / _880;
    float _882 = max(9.999999747378752e-05f, _829);
    float _883 = 1.0f / _882;
    float _884 = _881 * _833;
    float _885 = _883 * _833;
    float _886 = _833 * 0.18000000715255737f;
    float _889 = _886 * LocalExposure_MiddleGreyExposureCompensation;
    float _890 = log2(_889);
    float4 _891 = HistogramTexture.Load(int3(0, 0, 0));
    float _893 = -0.0f - EyeAdaptation_HistogramBias;
    float _894 = _893 / EyeAdaptation_HistogramScale;
    float _895 = log2(_884);
    float _896 = _895 + _894;
    float _900 = _896 - _890;
    bool _901 = (_900 > 0.0f);
    float _902 = select(_901, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _903 = _902 * _900;
    float _904 = _890 - _896;
    float _905 = _904 + _903;
    float _906 = _905 * _891.x;
    float _908 = 0.01587301678955555f - EyeAdaptation_HistogramBias;
    float _909 = _908 / EyeAdaptation_HistogramScale;
    float _910 = _895 + _909;
    float _911 = _910 - _890;
    bool _912 = (_911 > 0.0f);
    float _913 = select(_912, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _914 = _913 * _911;
    float _915 = _890 - _910;
    float _916 = _915 + _914;
    float _917 = _916 * _891.y;
    float _918 = _917 + _906;
    float _919 = _891.y + _891.x;
    float _921 = 0.0317460335791111f - EyeAdaptation_HistogramBias;
    float _922 = _921 / EyeAdaptation_HistogramScale;
    float _923 = _895 + _922;
    float _924 = _923 - _890;
    bool _925 = (_924 > 0.0f);
    float _926 = select(_925, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _927 = _926 * _924;
    float _928 = _890 - _923;
    float _929 = _928 + _927;
    float _930 = _929 * _891.z;
    float _931 = _918 + _930;
    float _932 = _919 + _891.z;
    float _934 = 0.0476190485060215f - EyeAdaptation_HistogramBias;
    float _935 = _934 / EyeAdaptation_HistogramScale;
    float _936 = _895 + _935;
    float _937 = _936 - _890;
    bool _938 = (_937 > 0.0f);
    float _939 = select(_938, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _940 = _939 * _937;
    float _941 = _890 - _936;
    float _942 = _941 + _940;
    float _943 = _942 * _891.w;
    float _944 = _931 + _943;
    float _945 = _932 + _891.w;
    float4 _946 = HistogramTexture.Load(int3(1, 0, 0));
    float _948 = 0.0634920671582222f - EyeAdaptation_HistogramBias;
    float _949 = _948 / EyeAdaptation_HistogramScale;
    float _950 = _895 + _949;
    float _951 = _950 - _890;
    bool _952 = (_951 > 0.0f);
    float _953 = select(_952, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _954 = _953 * _951;
    float _955 = _890 - _950;
    float _956 = _955 + _954;
    float _957 = _956 * _946.x;
    float _958 = _944 + _957;
    float _959 = _945 + _946.x;
    float _961 = 0.0793650820851326f - EyeAdaptation_HistogramBias;
    float _962 = _961 / EyeAdaptation_HistogramScale;
    float _963 = _895 + _962;
    float _964 = _963 - _890;
    bool _965 = (_964 > 0.0f);
    float _966 = select(_965, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _967 = _966 * _964;
    float _968 = _890 - _963;
    float _969 = _968 + _967;
    float _970 = _969 * _946.y;
    float _971 = _958 + _970;
    float _972 = _959 + _946.y;
    float _974 = 0.095238097012043f - EyeAdaptation_HistogramBias;
    float _975 = _974 / EyeAdaptation_HistogramScale;
    float _976 = _895 + _975;
    float _977 = _976 - _890;
    bool _978 = (_977 > 0.0f);
    float _979 = select(_978, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _980 = _979 * _977;
    float _981 = _890 - _976;
    float _982 = _981 + _980;
    float _983 = _982 * _946.z;
    float _984 = _971 + _983;
    float _985 = _972 + _946.z;
    float _987 = 0.1111111119389534f - EyeAdaptation_HistogramBias;
    float _988 = _987 / EyeAdaptation_HistogramScale;
    float _989 = _895 + _988;
    float _990 = _989 - _890;
    bool _991 = (_990 > 0.0f);
    float _992 = select(_991, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _993 = _992 * _990;
    float _994 = _890 - _989;
    float _995 = _994 + _993;
    float _996 = _995 * _946.w;
    float _997 = _984 + _996;
    float _998 = _985 + _946.w;
    float4 _999 = HistogramTexture.Load(int3(2, 0, 0));
    float _1001 = 0.1269841343164444f - EyeAdaptation_HistogramBias;
    float _1002 = _1001 / EyeAdaptation_HistogramScale;
    float _1003 = _895 + _1002;
    float _1004 = _1003 - _890;
    bool _1005 = (_1004 > 0.0f);
    float _1006 = select(_1005, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1007 = _1006 * _1004;
    float _1008 = _890 - _1003;
    float _1009 = _1008 + _1007;
    float _1010 = _1009 * _999.x;
    float _1011 = _997 + _1010;
    float _1012 = _998 + _999.x;
    float _1014 = 0.1428571492433548f - EyeAdaptation_HistogramBias;
    float _1015 = _1014 / EyeAdaptation_HistogramScale;
    float _1016 = _895 + _1015;
    float _1017 = _1016 - _890;
    bool _1018 = (_1017 > 0.0f);
    float _1019 = select(_1018, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1020 = _1019 * _1017;
    float _1021 = _890 - _1016;
    float _1022 = _1021 + _1020;
    float _1023 = _1022 * _999.y;
    float _1024 = _1011 + _1023;
    float _1025 = _1012 + _999.y;
    float _1027 = 0.1587301641702652f - EyeAdaptation_HistogramBias;
    float _1028 = _1027 / EyeAdaptation_HistogramScale;
    float _1029 = _895 + _1028;
    float _1030 = _1029 - _890;
    bool _1031 = (_1030 > 0.0f);
    float _1032 = select(_1031, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1033 = _1032 * _1030;
    float _1034 = _890 - _1029;
    float _1035 = _1034 + _1033;
    float _1036 = _1035 * _999.z;
    float _1037 = _1024 + _1036;
    float _1038 = _1025 + _999.z;
    float _1040 = 0.1746031790971756f - EyeAdaptation_HistogramBias;
    float _1041 = _1040 / EyeAdaptation_HistogramScale;
    float _1042 = _895 + _1041;
    float _1043 = _1042 - _890;
    bool _1044 = (_1043 > 0.0f);
    float _1045 = select(_1044, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1046 = _1045 * _1043;
    float _1047 = _890 - _1042;
    float _1048 = _1047 + _1046;
    float _1049 = _1048 * _999.w;
    float _1050 = _1037 + _1049;
    float _1051 = _1038 + _999.w;
    float4 _1052 = HistogramTexture.Load(int3(3, 0, 0));
    float _1054 = 0.190476194024086f - EyeAdaptation_HistogramBias;
    float _1055 = _1054 / EyeAdaptation_HistogramScale;
    float _1056 = _895 + _1055;
    float _1057 = _1056 - _890;
    bool _1058 = (_1057 > 0.0f);
    float _1059 = select(_1058, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1060 = _1059 * _1057;
    float _1061 = _890 - _1056;
    float _1062 = _1061 + _1060;
    float _1063 = _1062 * _1052.x;
    float _1064 = _1050 + _1063;
    float _1065 = _1051 + _1052.x;
    float _1067 = 0.2063492089509964f - EyeAdaptation_HistogramBias;
    float _1068 = _1067 / EyeAdaptation_HistogramScale;
    float _1069 = _895 + _1068;
    float _1070 = _1069 - _890;
    bool _1071 = (_1070 > 0.0f);
    float _1072 = select(_1071, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1073 = _1072 * _1070;
    float _1074 = _890 - _1069;
    float _1075 = _1074 + _1073;
    float _1076 = _1075 * _1052.y;
    float _1077 = _1064 + _1076;
    float _1078 = _1065 + _1052.y;
    float _1080 = 0.2222222238779068f - EyeAdaptation_HistogramBias;
    float _1081 = _1080 / EyeAdaptation_HistogramScale;
    float _1082 = _895 + _1081;
    float _1083 = _1082 - _890;
    bool _1084 = (_1083 > 0.0f);
    float _1085 = select(_1084, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1086 = _1085 * _1083;
    float _1087 = _890 - _1082;
    float _1088 = _1087 + _1086;
    float _1089 = _1088 * _1052.z;
    float _1090 = _1077 + _1089;
    float _1091 = _1078 + _1052.z;
    float _1093 = 0.2380952388048172f - EyeAdaptation_HistogramBias;
    float _1094 = _1093 / EyeAdaptation_HistogramScale;
    float _1095 = _895 + _1094;
    float _1096 = _1095 - _890;
    bool _1097 = (_1096 > 0.0f);
    float _1098 = select(_1097, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1099 = _1098 * _1096;
    float _1100 = _890 - _1095;
    float _1101 = _1100 + _1099;
    float _1102 = _1101 * _1052.w;
    float _1103 = _1090 + _1102;
    float _1104 = _1091 + _1052.w;
    float4 _1105 = HistogramTexture.Load(int3(4, 0, 0));
    float _1107 = 0.2539682686328888f - EyeAdaptation_HistogramBias;
    float _1108 = _1107 / EyeAdaptation_HistogramScale;
    float _1109 = _895 + _1108;
    float _1110 = _1109 - _890;
    bool _1111 = (_1110 > 0.0f);
    float _1112 = select(_1111, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1113 = _1112 * _1110;
    float _1114 = _890 - _1109;
    float _1115 = _1114 + _1113;
    float _1116 = _1115 * _1105.x;
    float _1117 = _1103 + _1116;
    float _1118 = _1104 + _1105.x;
    float _1120 = 0.2698412835597992f - EyeAdaptation_HistogramBias;
    float _1121 = _1120 / EyeAdaptation_HistogramScale;
    float _1122 = _895 + _1121;
    float _1123 = _1122 - _890;
    bool _1124 = (_1123 > 0.0f);
    float _1125 = select(_1124, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1126 = _1125 * _1123;
    float _1127 = _890 - _1122;
    float _1128 = _1127 + _1126;
    float _1129 = _1128 * _1105.y;
    float _1130 = _1117 + _1129;
    float _1131 = _1118 + _1105.y;
    float _1133 = 0.2857142984867096f - EyeAdaptation_HistogramBias;
    float _1134 = _1133 / EyeAdaptation_HistogramScale;
    float _1135 = _895 + _1134;
    float _1136 = _1135 - _890;
    bool _1137 = (_1136 > 0.0f);
    float _1138 = select(_1137, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1139 = _1138 * _1136;
    float _1140 = _890 - _1135;
    float _1141 = _1140 + _1139;
    float _1142 = _1141 * _1105.z;
    float _1143 = _1130 + _1142;
    float _1144 = _1131 + _1105.z;
    float _1146 = 0.30158731341362f - EyeAdaptation_HistogramBias;
    float _1147 = _1146 / EyeAdaptation_HistogramScale;
    float _1148 = _895 + _1147;
    float _1149 = _1148 - _890;
    bool _1150 = (_1149 > 0.0f);
    float _1151 = select(_1150, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1152 = _1151 * _1149;
    float _1153 = _890 - _1148;
    float _1154 = _1153 + _1152;
    float _1155 = _1154 * _1105.w;
    float _1156 = _1143 + _1155;
    float _1157 = _1144 + _1105.w;
    float4 _1158 = HistogramTexture.Load(int3(5, 0, 0));
    float _1160 = 0.3174603283405304f - EyeAdaptation_HistogramBias;
    float _1161 = _1160 / EyeAdaptation_HistogramScale;
    float _1162 = _895 + _1161;
    float _1163 = _1162 - _890;
    bool _1164 = (_1163 > 0.0f);
    float _1165 = select(_1164, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1166 = _1165 * _1163;
    float _1167 = _890 - _1162;
    float _1168 = _1167 + _1166;
    float _1169 = _1168 * _1158.x;
    float _1170 = _1156 + _1169;
    float _1171 = _1157 + _1158.x;
    float _1173 = 0.3333333432674408f - EyeAdaptation_HistogramBias;
    float _1174 = _1173 / EyeAdaptation_HistogramScale;
    float _1175 = _895 + _1174;
    float _1176 = _1175 - _890;
    bool _1177 = (_1176 > 0.0f);
    float _1178 = select(_1177, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1179 = _1178 * _1176;
    float _1180 = _890 - _1175;
    float _1181 = _1180 + _1179;
    float _1182 = _1181 * _1158.y;
    float _1183 = _1170 + _1182;
    float _1184 = _1171 + _1158.y;
    float _1186 = 0.3492063581943512f - EyeAdaptation_HistogramBias;
    float _1187 = _1186 / EyeAdaptation_HistogramScale;
    float _1188 = _895 + _1187;
    float _1189 = _1188 - _890;
    bool _1190 = (_1189 > 0.0f);
    float _1191 = select(_1190, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1192 = _1191 * _1189;
    float _1193 = _890 - _1188;
    float _1194 = _1193 + _1192;
    float _1195 = _1194 * _1158.z;
    float _1196 = _1183 + _1195;
    float _1197 = _1184 + _1158.z;
    float _1199 = 0.3650793731212616f - EyeAdaptation_HistogramBias;
    float _1200 = _1199 / EyeAdaptation_HistogramScale;
    float _1201 = _895 + _1200;
    float _1202 = _1201 - _890;
    bool _1203 = (_1202 > 0.0f);
    float _1204 = select(_1203, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1205 = _1204 * _1202;
    float _1206 = _890 - _1201;
    float _1207 = _1206 + _1205;
    float _1208 = _1207 * _1158.w;
    float _1209 = _1196 + _1208;
    float _1210 = _1197 + _1158.w;
    float4 _1211 = HistogramTexture.Load(int3(6, 0, 0));
    float _1213 = 0.380952388048172f - EyeAdaptation_HistogramBias;
    float _1214 = _1213 / EyeAdaptation_HistogramScale;
    float _1215 = _895 + _1214;
    float _1216 = _1215 - _890;
    bool _1217 = (_1216 > 0.0f);
    float _1218 = select(_1217, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1219 = _1218 * _1216;
    float _1220 = _890 - _1215;
    float _1221 = _1220 + _1219;
    float _1222 = _1221 * _1211.x;
    float _1223 = _1209 + _1222;
    float _1224 = _1210 + _1211.x;
    float _1226 = 0.3968254029750824f - EyeAdaptation_HistogramBias;
    float _1227 = _1226 / EyeAdaptation_HistogramScale;
    float _1228 = _895 + _1227;
    float _1229 = _1228 - _890;
    bool _1230 = (_1229 > 0.0f);
    float _1231 = select(_1230, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1232 = _1231 * _1229;
    float _1233 = _890 - _1228;
    float _1234 = _1233 + _1232;
    float _1235 = _1234 * _1211.y;
    float _1236 = _1223 + _1235;
    float _1237 = _1224 + _1211.y;
    float _1239 = 0.4126984179019928f - EyeAdaptation_HistogramBias;
    float _1240 = _1239 / EyeAdaptation_HistogramScale;
    float _1241 = _895 + _1240;
    float _1242 = _1241 - _890;
    bool _1243 = (_1242 > 0.0f);
    float _1244 = select(_1243, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1245 = _1244 * _1242;
    float _1246 = _890 - _1241;
    float _1247 = _1246 + _1245;
    float _1248 = _1247 * _1211.z;
    float _1249 = _1236 + _1248;
    float _1250 = _1237 + _1211.z;
    float _1252 = 0.4285714328289032f - EyeAdaptation_HistogramBias;
    float _1253 = _1252 / EyeAdaptation_HistogramScale;
    float _1254 = _895 + _1253;
    float _1255 = _1254 - _890;
    bool _1256 = (_1255 > 0.0f);
    float _1257 = select(_1256, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1258 = _1257 * _1255;
    float _1259 = _890 - _1254;
    float _1260 = _1259 + _1258;
    float _1261 = _1260 * _1211.w;
    float _1262 = _1249 + _1261;
    float _1263 = _1250 + _1211.w;
    float4 _1264 = HistogramTexture.Load(int3(7, 0, 0));
    float _1266 = 0.4444444477558136f - EyeAdaptation_HistogramBias;
    float _1267 = _1266 / EyeAdaptation_HistogramScale;
    float _1268 = _895 + _1267;
    float _1269 = _1268 - _890;
    bool _1270 = (_1269 > 0.0f);
    float _1271 = select(_1270, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1272 = _1271 * _1269;
    float _1273 = _890 - _1268;
    float _1274 = _1273 + _1272;
    float _1275 = _1274 * _1264.x;
    float _1276 = _1262 + _1275;
    float _1277 = _1263 + _1264.x;
    float _1279 = 0.460317462682724f - EyeAdaptation_HistogramBias;
    float _1280 = _1279 / EyeAdaptation_HistogramScale;
    float _1281 = _895 + _1280;
    float _1282 = _1281 - _890;
    bool _1283 = (_1282 > 0.0f);
    float _1284 = select(_1283, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1285 = _1284 * _1282;
    float _1286 = _890 - _1281;
    float _1287 = _1286 + _1285;
    float _1288 = _1287 * _1264.y;
    float _1289 = _1276 + _1288;
    float _1290 = _1277 + _1264.y;
    float _1292 = 0.4761904776096344f - EyeAdaptation_HistogramBias;
    float _1293 = _1292 / EyeAdaptation_HistogramScale;
    float _1294 = _895 + _1293;
    float _1295 = _1294 - _890;
    bool _1296 = (_1295 > 0.0f);
    float _1297 = select(_1296, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1298 = _1297 * _1295;
    float _1299 = _890 - _1294;
    float _1300 = _1299 + _1298;
    float _1301 = _1300 * _1264.z;
    float _1302 = _1289 + _1301;
    float _1303 = _1290 + _1264.z;
    float _1305 = 0.4920634925365448f - EyeAdaptation_HistogramBias;
    float _1306 = _1305 / EyeAdaptation_HistogramScale;
    float _1307 = _895 + _1306;
    float _1308 = _1307 - _890;
    bool _1309 = (_1308 > 0.0f);
    float _1310 = select(_1309, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1311 = _1310 * _1308;
    float _1312 = _890 - _1307;
    float _1313 = _1312 + _1311;
    float _1314 = _1313 * _1264.w;
    float _1315 = _1302 + _1314;
    float _1316 = _1303 + _1264.w;
    float4 _1317 = HistogramTexture.Load(int3(8, 0, 0));
    float _1319 = 0.5079365372657776f - EyeAdaptation_HistogramBias;
    float _1320 = _1319 / EyeAdaptation_HistogramScale;
    float _1321 = _895 + _1320;
    float _1322 = _1321 - _890;
    bool _1323 = (_1322 > 0.0f);
    float _1324 = select(_1323, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1325 = _1324 * _1322;
    float _1326 = _890 - _1321;
    float _1327 = _1326 + _1325;
    float _1328 = _1327 * _1317.x;
    float _1329 = _1315 + _1328;
    float _1330 = _1316 + _1317.x;
    float _1332 = 0.523809552192688f - EyeAdaptation_HistogramBias;
    float _1333 = _1332 / EyeAdaptation_HistogramScale;
    float _1334 = _895 + _1333;
    float _1335 = _1334 - _890;
    bool _1336 = (_1335 > 0.0f);
    float _1337 = select(_1336, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1338 = _1337 * _1335;
    float _1339 = _890 - _1334;
    float _1340 = _1339 + _1338;
    float _1341 = _1340 * _1317.y;
    float _1342 = _1329 + _1341;
    float _1343 = _1330 + _1317.y;
    float _1345 = 0.5396825671195984f - EyeAdaptation_HistogramBias;
    float _1346 = _1345 / EyeAdaptation_HistogramScale;
    float _1347 = _895 + _1346;
    float _1348 = _1347 - _890;
    bool _1349 = (_1348 > 0.0f);
    float _1350 = select(_1349, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1351 = _1350 * _1348;
    float _1352 = _890 - _1347;
    float _1353 = _1352 + _1351;
    float _1354 = _1353 * _1317.z;
    float _1355 = _1342 + _1354;
    float _1356 = _1343 + _1317.z;
    float _1358 = 0.5555555820465088f - EyeAdaptation_HistogramBias;
    float _1359 = _1358 / EyeAdaptation_HistogramScale;
    float _1360 = _895 + _1359;
    float _1361 = _1360 - _890;
    bool _1362 = (_1361 > 0.0f);
    float _1363 = select(_1362, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1364 = _1363 * _1361;
    float _1365 = _890 - _1360;
    float _1366 = _1365 + _1364;
    float _1367 = _1366 * _1317.w;
    float _1368 = _1355 + _1367;
    float _1369 = _1356 + _1317.w;
    float4 _1371 = HistogramTexture.Load(int3(9, 0, 0));
    float _1375 = 0.5714285969734192f - EyeAdaptation_HistogramBias;
    float _1377 = _1375 / EyeAdaptation_HistogramScale;
    float _1378 = _895 + _1377;
    float _1379 = _1378 - _890;
    bool _1380 = (_1379 > 0.0f);
    float _1381 = select(_1380, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1382 = _1381 * _1379;
    float _1383 = _890 - _1378;
    float _1384 = _1383 + _1382;
    float _1385 = _1384 * _1371.x;
    float _1386 = _1368 + _1385;
    float _1387 = _1369 + _1371.x;
    float _1389 = 0.5873016119003296f - EyeAdaptation_HistogramBias;
    float _1390 = _1389 / EyeAdaptation_HistogramScale;
    float _1391 = _895 + _1390;
    float _1392 = _1391 - _890;
    bool _1393 = (_1392 > 0.0f);
    float _1394 = select(_1393, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1395 = _1394 * _1392;
    float _1396 = _890 - _1391;
    float _1397 = _1396 + _1395;
    float _1398 = _1397 * _1371.y;
    float _1399 = _1386 + _1398;
    float _1400 = _1387 + _1371.y;
    float _1402 = 0.60317462682724f - EyeAdaptation_HistogramBias;
    float _1403 = _1402 / EyeAdaptation_HistogramScale;
    float _1404 = _895 + _1403;
    float _1408 = _1404 - _890;
    bool _1409 = (_1408 > 0.0f);
    float _1410 = select(_1409, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1411 = _1410 * _1408;
    float _1412 = _890 - _1404;
    float _1413 = _1412 + _1411;
    float _1414 = _1413 * _1371.z;
    float _1415 = _1399 + _1414;
    float _1416 = _1400 + _1371.z;
    float _1418 = 0.6190476417541504f - EyeAdaptation_HistogramBias;
    float _1419 = _1418 / EyeAdaptation_HistogramScale;
    float _1420 = _895 + _1419;
    float _1421 = _1420 - _890;
    bool _1422 = (_1421 > 0.0f);
    float _1423 = select(_1422, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1424 = _1423 * _1421;
    float _1425 = _890 - _1420;
    float _1426 = _1425 + _1424;
    float _1427 = _1426 * _1371.w;
    float _1428 = _1415 + _1427;
    float _1429 = _1416 + _1371.w;
    float4 _1430 = HistogramTexture.Load(int3(10, 0, 0));
    float _1432 = 0.6349206566810608f - EyeAdaptation_HistogramBias;
    float _1433 = _1432 / EyeAdaptation_HistogramScale;
    float _1434 = _895 + _1433;
    float _1435 = _1434 - _890;
    bool _1436 = (_1435 > 0.0f);
    float _1437 = select(_1436, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1438 = _1437 * _1435;
    float _1439 = _890 - _1434;
    float _1440 = _1439 + _1438;
    float _1441 = _1440 * _1430.x;
    float _1442 = _1428 + _1441;
    float _1443 = _1429 + _1430.x;
    float _1445 = 0.6507936716079712f - EyeAdaptation_HistogramBias;
    float _1446 = _1445 / EyeAdaptation_HistogramScale;
    float _1447 = _895 + _1446;
    float _1448 = _1447 - _890;
    bool _1449 = (_1448 > 0.0f);
    float _1450 = select(_1449, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1451 = _1450 * _1448;
    float _1452 = _890 - _1447;
    float _1453 = _1452 + _1451;
    float _1454 = _1453 * _1430.y;
    float _1455 = _1442 + _1454;
    float _1456 = _1443 + _1430.y;
    float _1458 = 0.6666666865348816f - EyeAdaptation_HistogramBias;
    float _1459 = _1458 / EyeAdaptation_HistogramScale;
    float _1460 = _895 + _1459;
    float _1461 = _1460 - _890;
    bool _1462 = (_1461 > 0.0f);
    float _1463 = select(_1462, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1464 = _1463 * _1461;
    float _1465 = _890 - _1460;
    float _1466 = _1465 + _1464;
    float _1467 = _1466 * _1430.z;
    float _1468 = _1455 + _1467;
    float _1469 = _1456 + _1430.z;
    float _1471 = 0.682539701461792f - EyeAdaptation_HistogramBias;
    float _1472 = _1471 / EyeAdaptation_HistogramScale;
    float _1473 = _895 + _1472;
    float _1474 = _1473 - _890;
    bool _1475 = (_1474 > 0.0f);
    float _1476 = select(_1475, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1477 = _1476 * _1474;
    float _1478 = _890 - _1473;
    float _1479 = _1478 + _1477;
    float _1480 = _1479 * _1430.w;
    float _1481 = _1468 + _1480;
    float _1482 = _1469 + _1430.w;
    float4 _1483 = HistogramTexture.Load(int3(11, 0, 0));
    float _1485 = 0.6984127163887024f - EyeAdaptation_HistogramBias;
    float _1486 = _1485 / EyeAdaptation_HistogramScale;
    float _1487 = _895 + _1486;
    float _1488 = _1487 - _890;
    bool _1489 = (_1488 > 0.0f);
    float _1490 = select(_1489, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1491 = _1490 * _1488;
    float _1492 = _890 - _1487;
    float _1493 = _1492 + _1491;
    float _1494 = _1493 * _1483.x;
    float _1495 = _1481 + _1494;
    float _1496 = _1482 + _1483.x;
    float _1498 = 0.7142857313156128f - EyeAdaptation_HistogramBias;
    float _1499 = _1498 / EyeAdaptation_HistogramScale;
    float _1500 = _895 + _1499;
    float _1501 = _1500 - _890;
    bool _1502 = (_1501 > 0.0f);
    float _1503 = select(_1502, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1504 = _1503 * _1501;
    float _1505 = _890 - _1500;
    float _1506 = _1505 + _1504;
    float _1507 = _1506 * _1483.y;
    float _1508 = _1495 + _1507;
    float _1509 = _1496 + _1483.y;
    float _1511 = 0.7301587462425232f - EyeAdaptation_HistogramBias;
    float _1512 = _1511 / EyeAdaptation_HistogramScale;
    float _1513 = _895 + _1512;
    float _1514 = _1513 - _890;
    bool _1515 = (_1514 > 0.0f);
    float _1516 = select(_1515, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1517 = _1516 * _1514;
    float _1518 = _890 - _1513;
    float _1519 = _1518 + _1517;
    float _1520 = _1519 * _1483.z;
    float _1521 = _1508 + _1520;
    float _1522 = _1509 + _1483.z;
    float _1524 = 0.7460317611694336f - EyeAdaptation_HistogramBias;
    float _1525 = _1524 / EyeAdaptation_HistogramScale;
    float _1526 = _895 + _1525;
    float _1527 = _1526 - _890;
    bool _1528 = (_1527 > 0.0f);
    float _1529 = select(_1528, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1530 = _1529 * _1527;
    float _1531 = _890 - _1526;
    float _1532 = _1531 + _1530;
    float _1533 = _1532 * _1483.w;
    float _1534 = _1521 + _1533;
    float _1535 = _1522 + _1483.w;
    float4 _1536 = HistogramTexture.Load(int3(12, 0, 0));
    float _1538 = 0.761904776096344f - EyeAdaptation_HistogramBias;
    float _1539 = _1538 / EyeAdaptation_HistogramScale;
    float _1540 = _895 + _1539;
    float _1541 = _1540 - _890;
    bool _1542 = (_1541 > 0.0f);
    float _1543 = select(_1542, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1544 = _1543 * _1541;
    float _1545 = _890 - _1540;
    float _1546 = _1545 + _1544;
    float _1547 = _1546 * _1536.x;
    float _1548 = _1534 + _1547;
    float _1549 = _1535 + _1536.x;
    float _1551 = 0.7777777910232544f - EyeAdaptation_HistogramBias;
    float _1552 = _1551 / EyeAdaptation_HistogramScale;
    float _1553 = _895 + _1552;
    float _1554 = _1553 - _890;
    bool _1555 = (_1554 > 0.0f);
    float _1556 = select(_1555, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1557 = _1556 * _1554;
    float _1558 = _890 - _1553;
    float _1559 = _1558 + _1557;
    float _1560 = _1559 * _1536.y;
    float _1561 = _1548 + _1560;
    float _1562 = _1549 + _1536.y;
    float _1564 = 0.7936508059501648f - EyeAdaptation_HistogramBias;
    float _1565 = _1564 / EyeAdaptation_HistogramScale;
    float _1566 = _895 + _1565;
    float _1567 = _1566 - _890;
    bool _1568 = (_1567 > 0.0f);
    float _1569 = select(_1568, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1570 = _1569 * _1567;
    float _1571 = _890 - _1566;
    float _1572 = _1571 + _1570;
    float _1573 = _1572 * _1536.z;
    float _1574 = _1561 + _1573;
    float _1575 = _1562 + _1536.z;
    float _1577 = 0.8095238208770752f - EyeAdaptation_HistogramBias;
    float _1578 = _1577 / EyeAdaptation_HistogramScale;
    float _1579 = _895 + _1578;
    float _1580 = _1579 - _890;
    bool _1581 = (_1580 > 0.0f);
    float _1582 = select(_1581, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1583 = _1582 * _1580;
    float _1584 = _890 - _1579;
    float _1585 = _1584 + _1583;
    float _1586 = _1585 * _1536.w;
    float _1587 = _1574 + _1586;
    float _1588 = _1575 + _1536.w;
    float4 _1589 = HistogramTexture.Load(int3(13, 0, 0));
    float _1591 = 0.8253968358039856f - EyeAdaptation_HistogramBias;
    float _1592 = _1591 / EyeAdaptation_HistogramScale;
    float _1593 = _895 + _1592;
    float _1594 = _1593 - _890;
    bool _1595 = (_1594 > 0.0f);
    float _1596 = select(_1595, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1597 = _1596 * _1594;
    float _1598 = _890 - _1593;
    float _1599 = _1598 + _1597;
    float _1600 = _1599 * _1589.x;
    float _1601 = _1587 + _1600;
    float _1602 = _1588 + _1589.x;
    float _1604 = 0.841269850730896f - EyeAdaptation_HistogramBias;
    float _1605 = _1604 / EyeAdaptation_HistogramScale;
    float _1606 = _895 + _1605;
    float _1607 = _1606 - _890;
    bool _1608 = (_1607 > 0.0f);
    float _1609 = select(_1608, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1610 = _1609 * _1607;
    float _1611 = _890 - _1606;
    float _1612 = _1611 + _1610;
    float _1613 = _1612 * _1589.y;
    float _1614 = _1601 + _1613;
    float _1615 = _1602 + _1589.y;
    float _1617 = 0.8571428656578064f - EyeAdaptation_HistogramBias;
    float _1618 = _1617 / EyeAdaptation_HistogramScale;
    float _1619 = _895 + _1618;
    float _1620 = _1619 - _890;
    bool _1621 = (_1620 > 0.0f);
    float _1622 = select(_1621, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1623 = _1622 * _1620;
    float _1624 = _890 - _1619;
    float _1625 = _1624 + _1623;
    float _1626 = _1625 * _1589.z;
    float _1627 = _1614 + _1626;
    float _1628 = _1615 + _1589.z;
    float _1630 = 0.8730158805847168f - EyeAdaptation_HistogramBias;
    float _1631 = _1630 / EyeAdaptation_HistogramScale;
    float _1632 = _895 + _1631;
    float _1633 = _1632 - _890;
    bool _1634 = (_1633 > 0.0f);
    float _1635 = select(_1634, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1636 = _1635 * _1633;
    float _1637 = _890 - _1632;
    float _1638 = _1637 + _1636;
    float _1639 = _1638 * _1589.w;
    float _1640 = _1627 + _1639;
    float _1641 = _1628 + _1589.w;
    float4 _1642 = HistogramTexture.Load(int3(14, 0, 0));
    float _1644 = 0.8888888955116272f - EyeAdaptation_HistogramBias;
    float _1645 = _1644 / EyeAdaptation_HistogramScale;
    float _1646 = _895 + _1645;
    float _1647 = _1646 - _890;
    bool _1648 = (_1647 > 0.0f);
    float _1649 = select(_1648, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1650 = _1649 * _1647;
    float _1651 = _890 - _1646;
    float _1652 = _1651 + _1650;
    float _1653 = _1652 * _1642.x;
    float _1654 = _1640 + _1653;
    float _1655 = _1641 + _1642.x;
    float _1657 = 0.9047619104385376f - EyeAdaptation_HistogramBias;
    float _1658 = _1657 / EyeAdaptation_HistogramScale;
    float _1659 = _895 + _1658;
    float _1660 = _1659 - _890;
    bool _1661 = (_1660 > 0.0f);
    float _1662 = select(_1661, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1663 = _1662 * _1660;
    float _1664 = _890 - _1659;
    float _1665 = _1664 + _1663;
    float _1666 = _1665 * _1642.y;
    float _1667 = _1654 + _1666;
    float _1668 = _1655 + _1642.y;
    float _1670 = 0.920634925365448f - EyeAdaptation_HistogramBias;
    float _1671 = _1670 / EyeAdaptation_HistogramScale;
    float _1672 = _895 + _1671;
    float _1673 = _1672 - _890;
    bool _1674 = (_1673 > 0.0f);
    float _1675 = select(_1674, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1676 = _1675 * _1673;
    float _1677 = _890 - _1672;
    float _1678 = _1677 + _1676;
    float _1679 = _1678 * _1642.z;
    float _1680 = _1667 + _1679;
    float _1681 = _1668 + _1642.z;
    float _1683 = 0.9365079402923584f - EyeAdaptation_HistogramBias;
    float _1684 = _1683 / EyeAdaptation_HistogramScale;
    float _1685 = _895 + _1684;
    float _1686 = _1685 - _890;
    bool _1687 = (_1686 > 0.0f);
    float _1688 = select(_1687, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1689 = _1688 * _1686;
    float _1690 = _890 - _1685;
    float _1691 = _1690 + _1689;
    float _1692 = _1691 * _1642.w;
    float _1693 = _1680 + _1692;
    float _1694 = _1681 + _1642.w;
    float4 _1695 = HistogramTexture.Load(int3(15, 0, 0));
    float _1697 = 0.9523809552192688f - EyeAdaptation_HistogramBias;
    float _1698 = _1697 / EyeAdaptation_HistogramScale;
    float _1699 = _895 + _1698;
    float _1700 = _1699 - _890;
    bool _1701 = (_1700 > 0.0f);
    float _1702 = select(_1701, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1703 = _1702 * _1700;
    float _1704 = _890 - _1699;
    float _1705 = _1704 + _1703;
    float _1706 = _1705 * _1695.x;
    float _1707 = _1693 + _1706;
    float _1708 = _1694 + _1695.x;
    float _1710 = 0.9682539701461792f - EyeAdaptation_HistogramBias;
    float _1711 = _1710 / EyeAdaptation_HistogramScale;
    float _1712 = _895 + _1711;
    float _1713 = _1712 - _890;
    bool _1714 = (_1713 > 0.0f);
    float _1715 = select(_1714, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1716 = _1715 * _1713;
    float _1717 = _890 - _1712;
    float _1718 = _1717 + _1716;
    float _1719 = _1718 * _1695.y;
    float _1720 = _1707 + _1719;
    float _1721 = _1708 + _1695.y;
    float _1723 = 0.9841269850730896f - EyeAdaptation_HistogramBias;
    float _1724 = _1723 / EyeAdaptation_HistogramScale;
    float _1725 = _895 + _1724;
    float _1726 = _1725 - _890;
    bool _1727 = (_1726 > 0.0f);
    float _1728 = select(_1727, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1729 = _1728 * _1726;
    float _1730 = _890 - _1725;
    float _1731 = _1730 + _1729;
    float _1732 = _1731 * _1695.z;
    float _1733 = _1720 + _1732;
    float _1734 = _1721 + _1695.z;
    float _1736 = 1.0f - EyeAdaptation_HistogramBias;
    float _1737 = _1736 / EyeAdaptation_HistogramScale;
    float _1738 = _895 + _1737;
    float _1739 = _1738 - _890;
    bool _1740 = (_1739 > 0.0f);
    float _1741 = select(_1740, LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale);
    float _1742 = _1741 * _1739;
    float _1743 = _890 - _1738;
    float _1744 = _1743 + _1742;
    float _1745 = _1744 * _1695.w;
    float _1746 = _1733 + _1745;
    float _1747 = _1734 + _1695.w;
    float _1748 = max(9.999999747378752e-05f, _1747);
    float _1749 = _1746 / _1748;
    float _1750 = exp2(_1749);

    RWEyeAdaptationBuffer[0] = float4(_884, _885, _821, _833);
    // RWEyeAdaptationBuffer[1] = float4(_1750, 0.0f, 0.0f, 0.0f);

    // RWEyeAdaptationBuffer[0] = float4(
    //     lerp(0.18f, _884, CUSTOM_EYE_ADAPTATION),
    //     lerp(0.18f, _885, CUSTOM_EYE_ADAPTATION),
    //     lerp(0.18f, _821, CUSTOM_EYE_ADAPTATION),
    //     lerp(0.18f, _833, CUSTOM_EYE_ADAPTATION));

    RWEyeAdaptationBuffer[1] = float4(lerp(1.f, _1750, CUSTOM_EYE_ADAPTATION), 0.0f, 0.0f, 0.0f);

    break;
  }
}
