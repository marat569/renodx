#include "../common.hlsl"

StructuredBuffer<float4> EyeAdaptationBuffer : register(t0);

Texture2D<float4> ColorTexture : register(t1);

Texture2D<float4> BloomTexture : register(t2);

StructuredBuffer<float4> SceneColorApplyParamaters : register(t3);

Texture3D<float4> LumBilateralGrid : register(t4);

Texture2D<float4> BlurredLogLum : register(t5);

Texture2D<float4> BloomDirtMaskTexture : register(t6);

Texture3D<float4> ColorGradingLUT : register(t7);

RWTexture2D<float4> RWOutputTexture : register(u0);

RWTexture2D<float> RWOutputLuminance : register(u1);

cbuffer _RootShaderParameters : register(b0) {
  float3 GrainRandomFull : packoffset(c001.x);
  float FilmGrainIntensityShadows : packoffset(c001.w);
  float FilmGrainIntensityMidtones : packoffset(c002.x);
  float FilmGrainIntensityHighlights : packoffset(c002.y);
  float FilmGrainShadowsMax : packoffset(c002.z);
  float FilmGrainHighlightsMin : packoffset(c002.w);
  float FilmGrainHighlightsMax : packoffset(c003.x);
  float4 ScreenPosToFilmGrainTextureUV : packoffset(c005.x);
  float3 InverseGamma : packoffset(c007.x);
  float OutputMaxLuminance : packoffset(c008.y);
  float2 Color_Extent : packoffset(c009.x);
  float2 Color_ExtentInverse : packoffset(c009.z);
  float2 Color_ScreenPosToViewportScale : packoffset(c010.x);
  float2 Color_ScreenPosToViewportBias : packoffset(c010.z);
  uint2 Color_ViewportMin : packoffset(c011.x);
  uint2 Color_ViewportMax : packoffset(c011.z);
  float2 Color_ViewportSize : packoffset(c012.x);
  float2 Color_ViewportSizeInverse : packoffset(c012.z);
  float2 Color_UVViewportMin : packoffset(c013.x);
  float2 Color_UVViewportMax : packoffset(c013.z);
  float2 Color_UVViewportSize : packoffset(c014.x);
  float2 Color_UVViewportSizeInverse : packoffset(c014.z);
  float2 Color_UVViewportBilinearMin : packoffset(c015.x);
  float2 Color_UVViewportBilinearMax : packoffset(c015.z);
  float2 Output_Extent : packoffset(c016.x);
  float2 Output_ExtentInverse : packoffset(c016.z);
  float2 Output_ScreenPosToViewportScale : packoffset(c017.x);
  float2 Output_ScreenPosToViewportBias : packoffset(c017.z);
  uint2 Output_ViewportMin : packoffset(c018.x);
  uint2 Output_ViewportMax : packoffset(c018.z);
  float2 Output_ViewportSize : packoffset(c019.x);
  float2 Output_ViewportSizeInverse : packoffset(c019.z);
  float2 Output_UVViewportMin : packoffset(c020.x);
  float2 Output_UVViewportMax : packoffset(c020.z);
  float2 Output_UVViewportSize : packoffset(c021.x);
  float2 Output_UVViewportSizeInverse : packoffset(c021.z);
  float2 Output_UVViewportBilinearMin : packoffset(c022.x);
  float2 Output_UVViewportBilinearMax : packoffset(c022.z);
  float EyeAdaptation_ExposureLowPercent : packoffset(c023.x);
  float EyeAdaptation_ExposureHighPercent : packoffset(c023.y);
  float EyeAdaptation_MinAverageLuminance : packoffset(c023.z);
  float EyeAdaptation_MaxAverageLuminance : packoffset(c023.w);
  float EyeAdaptation_ExposureCompensationSettings : packoffset(c024.x);
  float EyeAdaptation_ExposureCompensationCurve : packoffset(c024.y);
  float EyeAdaptation_DeltaWorldTime : packoffset(c024.z);
  float EyeAdaptation_ExposureSpeedUp : packoffset(c024.w);
  float EyeAdaptation_ExposureSpeedDown : packoffset(c025.x);
  float EyeAdaptation_HistogramScale : packoffset(c025.y);
  float EyeAdaptation_HistogramBias : packoffset(c025.z);
  float EyeAdaptation_LuminanceMin : packoffset(c025.w);
  float EyeAdaptation_BlackHistogramBucketInfluence : packoffset(c026.x);
  float EyeAdaptation_GreyMult : packoffset(c026.y);
  float EyeAdaptation_ExponentialUpM : packoffset(c026.z);
  float EyeAdaptation_ExponentialDownM : packoffset(c026.w);
  float EyeAdaptation_StartDistance : packoffset(c027.x);
  float EyeAdaptation_LuminanceMax : packoffset(c027.y);
  float EyeAdaptation_IgnoreMaterialsEvaluationPositionBias : packoffset(c027.z);
  float EyeAdaptation_IgnoreMaterialsLuminanceScale : packoffset(c027.w);
  float EyeAdaptation_IgnoreMaterialsMinBaseColorLuminance : packoffset(c028.x);
  uint EyeAdaptation_IgnoreMaterialsReconstructFromSceneColor : packoffset(c028.y);
  float EyeAdaptation_ForceTarget : packoffset(c028.z);
  int EyeAdaptation_VisualizeDebugType : packoffset(c028.w);
  float LocalExposure_HighlightContrastScale : packoffset(c030.x);
  float LocalExposure_ShadowContrastScale : packoffset(c030.y);
  float LocalExposure_DetailStrength : packoffset(c030.z);
  float LocalExposure_BlurredLuminanceBlend : packoffset(c030.w);
  float LocalExposure_MiddleGreyExposureCompensation : packoffset(c031.x);
  float2 LocalExposure_BilateralGridUVScale : packoffset(c031.z);
  float4 ColorToBloom : packoffset(c033.x);
  float2 BloomUVViewportBilinearMin : packoffset(c034.x);
  float2 BloomUVViewportBilinearMax : packoffset(c034.z);
  float4 ColorScale0 : packoffset(c041.x);
  float4 BloomDirtMaskTint : packoffset(c042.x);
  float4 ChromaticAberrationParams : packoffset(c043.x);
  float4 TonemapperParams : packoffset(c044.x);
  float4 LensPrincipalPointOffsetScale : packoffset(c045.x);
  float4 LensPrincipalPointOffsetScaleInverse : packoffset(c046.x);
  float LUTSize : packoffset(c047.x);
  float InvLUTSize : packoffset(c047.y);
  float LUTScale : packoffset(c047.z);
  float LUTOffset : packoffset(c047.w);
  float EditorNITLevel : packoffset(c048.x);
  float BackbufferQuantizationDithering : packoffset(c048.y);
  uint bOutputInHDR : packoffset(c048.z);
};

cbuffer UniformBufferConstants_View : register(b1) {
  float4 View_TranslatedWorldToClip[4] : packoffset(c000.x);
  float4 View_RelativeWorldToClip[4] : packoffset(c004.x);
  float4 View_ClipToRelativeWorld[4] : packoffset(c008.x);
  float4 View_TranslatedWorldToView[4] : packoffset(c012.x);
  float4 View_ViewToTranslatedWorld[4] : packoffset(c016.x);
  float4 View_TranslatedWorldToCameraView[4] : packoffset(c020.x);
  float4 View_CameraViewToTranslatedWorld[4] : packoffset(c024.x);
  float4 View_ViewToClip[4] : packoffset(c028.x);
  float4 View_ViewToClipNoAA[4] : packoffset(c032.x);
  float4 View_ClipToView[4] : packoffset(c036.x);
  float4 View_ClipToTranslatedWorld[4] : packoffset(c040.x);
  float4 View_SVPositionToTranslatedWorld[4] : packoffset(c044.x);
  float4 View_ScreenToRelativeWorld[4] : packoffset(c048.x);
  float4 View_ScreenToTranslatedWorld[4] : packoffset(c052.x);
  float4 View_MobileMultiviewShadowTransform[4] : packoffset(c056.x);
  float3 View_ViewTilePosition : packoffset(c060.x);
  float PrePadding_View_972 : packoffset(c060.w);
  float3 View_MatrixTilePosition : packoffset(c061.x);
  float PrePadding_View_988 : packoffset(c061.w);
  float3 View_ViewForward : packoffset(c062.x);
  float PrePadding_View_1004 : packoffset(c062.w);
  float3 View_ViewUp : packoffset(c063.x);
  float PrePadding_View_1020 : packoffset(c063.w);
  float3 View_ViewRight : packoffset(c064.x);
  float PrePadding_View_1036 : packoffset(c064.w);
  float3 View_HMDViewNoRollUp : packoffset(c065.x);
  float PrePadding_View_1052 : packoffset(c065.w);
  float3 View_HMDViewNoRollRight : packoffset(c066.x);
  float PrePadding_View_1068 : packoffset(c066.w);
  float4 View_InvDeviceZToWorldZTransform : packoffset(c067.x);
  float4 View_ScreenPositionScaleBias : packoffset(c068.x);
  float3 View_RelativeWorldCameraOrigin : packoffset(c069.x);
  float PrePadding_View_1116 : packoffset(c069.w);
  float3 View_TranslatedWorldCameraOrigin : packoffset(c070.x);
  float PrePadding_View_1132 : packoffset(c070.w);
  float3 View_RelativeWorldViewOrigin : packoffset(c071.x);
  float PrePadding_View_1148 : packoffset(c071.w);
  float3 View_RelativePreViewTranslation : packoffset(c072.x);
  float PrePadding_View_1164 : packoffset(c072.w);
  float4 View_PrevViewToClip[4] : packoffset(c073.x);
  float4 View_PrevClipToView[4] : packoffset(c077.x);
  float4 View_PrevTranslatedWorldToClip[4] : packoffset(c081.x);
  float4 View_PrevTranslatedWorldToView[4] : packoffset(c085.x);
  float4 View_PrevViewToTranslatedWorld[4] : packoffset(c089.x);
  float4 View_PrevTranslatedWorldToCameraView[4] : packoffset(c093.x);
  float4 View_PrevCameraViewToTranslatedWorld[4] : packoffset(c097.x);
  float3 View_PrevTranslatedWorldCameraOrigin : packoffset(c101.x);
  float PrePadding_View_1628 : packoffset(c101.w);
  float3 View_PrevRelativeWorldCameraOrigin : packoffset(c102.x);
  float PrePadding_View_1644 : packoffset(c102.w);
  float3 View_PrevRelativeWorldViewOrigin : packoffset(c103.x);
  float PrePadding_View_1660 : packoffset(c103.w);
  float3 View_RelativePrevPreViewTranslation : packoffset(c104.x);
  float PrePadding_View_1676 : packoffset(c104.w);
  float4 View_PrevClipToRelativeWorld[4] : packoffset(c105.x);
  float4 View_PrevScreenToTranslatedWorld[4] : packoffset(c109.x);
  float4 View_ClipToPrevClip[4] : packoffset(c113.x);
  float4 View_ClipToPrevClipWithAA[4] : packoffset(c117.x);
  float4 View_TemporalAAJitter : packoffset(c121.x);
  float4 View_GlobalClippingPlane : packoffset(c122.x);
  float2 View_FieldOfViewWideAngles : packoffset(c123.x);
  float2 View_PrevFieldOfViewWideAngles : packoffset(c123.z);
  float4 View_ViewRectMin : packoffset(c124.x);
  float4 View_ViewSizeAndInvSize : packoffset(c125.x);
  uint4 View_ViewRectMinAndSize : packoffset(c126.x);
  float4 View_LightProbeSizeRatioAndInvSizeRatio : packoffset(c127.x);
  float4 View_BufferSizeAndInvSize : packoffset(c128.x);
  float4 View_BufferBilinearUVMinMax : packoffset(c129.x);
  float4 View_ScreenToViewSpace : packoffset(c130.x);
  float2 View_BufferToSceneTextureScale : packoffset(c131.x);
  float2 View_ResolutionFractionAndInv : packoffset(c131.z);
  int View_NumSceneColorMSAASamples : packoffset(c132.x);
  float View_ProjectionDepthThicknessScale : packoffset(c132.y);
  float View_PreExposure : packoffset(c132.z);
  float View_OneOverPreExposure : packoffset(c132.w);
  float4 View_DiffuseOverrideParameter : packoffset(c133.x);
  float4 View_SpecularOverrideParameter : packoffset(c134.x);
  float4 View_NormalOverrideParameter : packoffset(c135.x);
  float2 View_RoughnessOverrideParameter : packoffset(c136.x);
  float View_PrevFrameGameTime : packoffset(c136.z);
  float View_PrevFrameRealTime : packoffset(c136.w);
  float View_OutOfBoundsMask : packoffset(c137.x);
  float PrePadding_View_2196 : packoffset(c137.y);
  float PrePadding_View_2200 : packoffset(c137.z);
  float PrePadding_View_2204 : packoffset(c137.w);
  float3 View_WorldCameraMovementSinceLastFrame : packoffset(c138.x);
  float View_CullingSign : packoffset(c138.w);
  float View_NearPlane : packoffset(c139.x);
  float View_GameTime : packoffset(c139.y);
  float View_RealTime : packoffset(c139.z);
  float View_DeltaTime : packoffset(c139.w);
  float View_MaterialTextureMipBias : packoffset(c140.x);
  float View_MaterialTextureDerivativeMultiply : packoffset(c140.y);
  uint View_Random : packoffset(c140.z);
  uint View_FrameNumber : packoffset(c140.w);
  uint View_FrameCounter : packoffset(c141.x);
  uint View_StateFrameIndexMod8 : packoffset(c141.y);
  uint View_StateFrameIndex : packoffset(c141.z);
  uint View_DebugViewModeMask : packoffset(c141.w);
  uint View_WorldIsPaused : packoffset(c142.x);
  float View_CameraCut : packoffset(c142.y);
  float View_UnlitViewmodeMask : packoffset(c142.z);
  float PrePadding_View_2284 : packoffset(c142.w);
  float4 View_DirectionalLightColor : packoffset(c143.x);
  float3 View_DirectionalLightDirection : packoffset(c144.x);
  float PrePadding_View_2316 : packoffset(c144.w);
  float4 View_TranslucencyLightingVolumeMin[2] : packoffset(c145.x);
  float4 View_TranslucencyLightingVolumeInvSize[2] : packoffset(c147.x);
  float4 View_TemporalAAParams : packoffset(c149.x);
  float4 View_CircleDOFParams : packoffset(c150.x);
  float View_DepthOfFieldSensorWidth : packoffset(c151.x);
  float View_DepthOfFieldFocalDistance : packoffset(c151.y);
  float View_DepthOfFieldScale : packoffset(c151.z);
  float View_DepthOfFieldFocalLength : packoffset(c151.w);
  float View_DepthOfFieldFocalRegion : packoffset(c152.x);
  float View_DepthOfFieldNearTransitionRegion : packoffset(c152.y);
  float View_DepthOfFieldFarTransitionRegion : packoffset(c152.z);
  float View_MotionBlurNormalizedToPixel : packoffset(c152.w);
  float View_GeneralPurposeTweak : packoffset(c153.x);
  float View_GeneralPurposeTweak2 : packoffset(c153.y);
  float View_DemosaicVposOffset : packoffset(c153.z);
  float View_DecalDepthBias : packoffset(c153.w);
  float3 View_IndirectLightingColorScale : packoffset(c154.x);
  float PrePadding_View_2476 : packoffset(c154.w);
  float3 View_PrecomputedIndirectLightingColorScale : packoffset(c155.x);
  float PrePadding_View_2492 : packoffset(c155.w);
  float3 View_PrecomputedIndirectSpecularColorScale : packoffset(c156.x);
  float PrePadding_View_2508 : packoffset(c156.w);
  float4 View_AtmosphereLightDirection[2] : packoffset(c157.x);
  float4 View_AtmosphereLightIlluminanceOnGroundPostTransmittance[2] : packoffset(c159.x);
  float4 View_AtmosphereLightIlluminanceOuterSpace[2] : packoffset(c161.x);
  float4 View_AtmosphereLightDiscLuminance[2] : packoffset(c163.x);
  float4 View_AtmosphereLightDiscCosHalfApexAngle_PPTrans[2] : packoffset(c165.x);
  float4 View_SkyViewLutSizeAndInvSize : packoffset(c167.x);
  float3 View_SkyCameraTranslatedWorldOrigin : packoffset(c168.x);
  float PrePadding_View_2700 : packoffset(c168.w);
  float4 View_SkyPlanetTranslatedWorldCenterAndViewHeight : packoffset(c169.x);
  float4 View_SkyViewLutReferential[4] : packoffset(c170.x);
  float4 View_SkyAtmosphereSkyLuminanceFactor : packoffset(c174.x);
  float View_SkyAtmospherePresentInScene : packoffset(c175.x);
  float View_SkyAtmosphereHeightFogContribution : packoffset(c175.y);
  float View_SkyAtmosphereBottomRadiusKm : packoffset(c175.z);
  float View_SkyAtmosphereTopRadiusKm : packoffset(c175.w);
  float4 View_SkyAtmosphereCameraAerialPerspectiveVolumeSizeAndInvSize : packoffset(c176.x);
  float View_SkyAtmosphereAerialPerspectiveStartDepthKm : packoffset(c177.x);
  float View_SkyAtmosphereCameraAerialPerspectiveVolumeDepthResolution : packoffset(c177.y);
  float View_SkyAtmosphereCameraAerialPerspectiveVolumeDepthResolutionInv : packoffset(c177.z);
  float View_SkyAtmosphereCameraAerialPerspectiveVolumeDepthSliceLengthKm : packoffset(c177.w);
  float View_SkyAtmosphereCameraAerialPerspectiveVolumeDepthSliceLengthKmInv : packoffset(c178.x);
  float View_SkyAtmosphereApplyCameraAerialPerspectiveVolume : packoffset(c178.y);
  float PrePadding_View_2856 : packoffset(c178.z);
  float PrePadding_View_2860 : packoffset(c178.w);
  float3 View_NormalCurvatureToRoughnessScaleBias : packoffset(c179.x);
  float View_RenderingReflectionCaptureMask : packoffset(c179.w);
  float View_RealTimeReflectionCapture : packoffset(c180.x);
  float View_RealTimeReflectionCapturePreExposure : packoffset(c180.y);
  float PrePadding_View_2888 : packoffset(c180.z);
  float PrePadding_View_2892 : packoffset(c180.w);
  float4 View_AmbientCubemapTint : packoffset(c181.x);
  float View_AmbientCubemapIntensity : packoffset(c182.x);
  float View_SkyLightApplyPrecomputedBentNormalShadowingFlag : packoffset(c182.y);
  float View_SkyLightAffectReflectionFlag : packoffset(c182.z);
  float View_SkyLightAffectGlobalIlluminationFlag : packoffset(c182.w);
  float4 View_SkyLightColor : packoffset(c183.x);
  float4 View_MobileSkyIrradianceEnvironmentMap[8] : packoffset(c184.x);
  float View_MobilePreviewMode : packoffset(c192.x);
  float View_HMDEyePaddingOffset : packoffset(c192.y);
  float View_ReflectionCubemapMaxMip : packoffset(c192.z);
  float View_ShowDecalsMask : packoffset(c192.w);
  uint View_DistanceFieldAOSpecularOcclusionMode : packoffset(c193.x);
  float View_IndirectCapsuleSelfShadowingIntensity : packoffset(c193.y);
  float PrePadding_View_3096 : packoffset(c193.z);
  float PrePadding_View_3100 : packoffset(c193.w);
  float3 View_ReflectionEnvironmentRoughnessMixingScaleBiasAndLargestWeight : packoffset(c194.x);
  int View_StereoPassIndex : packoffset(c194.w);
  float4 View_GlobalVolumeTranslatedCenterAndExtent[6] : packoffset(c195.x);
  float4 View_GlobalVolumeTranslatedWorldToUVAddAndMul[6] : packoffset(c201.x);
  float4 View_GlobalDistanceFieldMipTranslatedWorldToUVScale[6] : packoffset(c207.x);
  float4 View_GlobalDistanceFieldMipTranslatedWorldToUVBias[6] : packoffset(c213.x);
  float View_GlobalDistanceFieldMipFactor : packoffset(c219.x);
  float View_GlobalDistanceFieldMipTransition : packoffset(c219.y);
  int View_GlobalDistanceFieldClipmapSizeInPages : packoffset(c219.z);
  int PrePadding_View_3516 : packoffset(c219.w);
  float3 View_GlobalDistanceFieldInvPageAtlasSize : packoffset(c220.x);
  float PrePadding_View_3532 : packoffset(c220.w);
  float3 View_GlobalDistanceFieldInvCoverageAtlasSize : packoffset(c221.x);
  float View_GlobalVolumeDimension : packoffset(c221.w);
  float View_GlobalVolumeTexelSize : packoffset(c222.x);
  float View_MaxGlobalDFAOConeDistance : packoffset(c222.y);
  uint View_NumGlobalSDFClipmaps : packoffset(c222.z);
  float View_CoveredExpandSurfaceScale : packoffset(c222.w);
  float View_NotCoveredExpandSurfaceScale : packoffset(c223.x);
  float View_NotCoveredMinStepScale : packoffset(c223.y);
  float View_DitheredTransparencyStepThreshold : packoffset(c223.z);
  float View_DitheredTransparencyTraceThreshold : packoffset(c223.w);
  int2 View_CursorPosition : packoffset(c224.x);
  float View_bCheckerboardSubsurfaceProfileRendering : packoffset(c224.z);
  float PrePadding_View_3596 : packoffset(c224.w);
  float3 View_VolumetricFogInvGridSize : packoffset(c225.x);
  float PrePadding_View_3612 : packoffset(c225.w);
  float3 View_VolumetricFogGridZParams : packoffset(c226.x);
  float PrePadding_View_3628 : packoffset(c226.w);
  float2 View_VolumetricFogSVPosToVolumeUV : packoffset(c227.x);
  float2 View_VolumetricFogViewGridUVToPrevViewRectUV : packoffset(c227.z);
  float2 View_VolumetricFogPrevViewGridRectUVToResourceUV : packoffset(c228.x);
  float2 View_VolumetricFogPrevUVMax : packoffset(c228.z);
  float2 View_VolumetricFogScreenToResourceUV : packoffset(c229.x);
  float2 View_VolumetricFogPrevUVMaxForTemporalBlend : packoffset(c229.z);
  float2 View_VolumetricFogUVMax : packoffset(c230.x);
  float View_VolumetricFogMaxDistance : packoffset(c230.z);
  float PrePadding_View_3692 : packoffset(c230.w);
  float3 View_VolumetricLightmapWorldToUVScale : packoffset(c231.x);
  float PrePadding_View_3708 : packoffset(c231.w);
  float3 View_VolumetricLightmapWorldToUVAdd : packoffset(c232.x);
  float PrePadding_View_3724 : packoffset(c232.w);
  float3 View_VolumetricLightmapIndirectionTextureSize : packoffset(c233.x);
  float View_VolumetricLightmapBrickSize : packoffset(c233.w);
  float3 View_VolumetricLightmapBrickTexelSize : packoffset(c234.x);
  float View_IndirectLightingCacheShowFlag : packoffset(c234.w);
  float View_EyeToPixelSpreadAngle : packoffset(c235.x);
  float PrePadding_View_3764 : packoffset(c235.y);
  float PrePadding_View_3768 : packoffset(c235.z);
  float PrePadding_View_3772 : packoffset(c235.w);
  float4 View_XRPassthroughCameraUVs[2] : packoffset(c236.x);
  float View_GlobalVirtualTextureMipBias : packoffset(c238.x);
  uint View_VirtualTextureFeedbackShift : packoffset(c238.y);
  uint View_VirtualTextureFeedbackMask : packoffset(c238.z);
  uint View_VirtualTextureFeedbackStride : packoffset(c238.w);
  uint View_VirtualTextureFeedbackJitterOffset : packoffset(c239.x);
  uint View_VirtualTextureFeedbackSampleOffset : packoffset(c239.y);
  uint PrePadding_View_3832 : packoffset(c239.z);
  uint PrePadding_View_3836 : packoffset(c239.w);
  float4 View_RuntimeVirtualTextureMipLevel : packoffset(c240.x);
  float2 View_RuntimeVirtualTexturePackHeight : packoffset(c241.x);
  float PrePadding_View_3864 : packoffset(c241.z);
  float PrePadding_View_3868 : packoffset(c241.w);
  float4 View_RuntimeVirtualTextureDebugParams : packoffset(c242.x);
  float View_OverrideLandscapeLOD : packoffset(c243.x);
  int View_FarShadowStaticMeshLODBias : packoffset(c243.y);
  float View_MinRoughness : packoffset(c243.z);
  float PrePadding_View_3900 : packoffset(c243.w);
  float4 View_HairRenderInfo : packoffset(c244.x);
  uint View_EnableSkyLight : packoffset(c245.x);
  uint View_HairRenderInfoBits : packoffset(c245.y);
  uint View_HairComponents : packoffset(c245.z);
  float View_bSubsurfacePostprocessEnabled : packoffset(c245.w);
  float4 View_SSProfilesTextureSizeAndInvSize : packoffset(c246.x);
  float4 View_SSProfilesPreIntegratedTextureSizeAndInvSize : packoffset(c247.x);
  float4 View_SpecularProfileTextureSizeAndInvSize : packoffset(c248.x);
  float3 View_PhysicsFieldClipmapCenter : packoffset(c249.x);
  float View_PhysicsFieldClipmapDistance : packoffset(c249.w);
  int View_PhysicsFieldClipmapResolution : packoffset(c250.x);
  int View_PhysicsFieldClipmapExponent : packoffset(c250.y);
  int View_PhysicsFieldClipmapCount : packoffset(c250.z);
  int View_PhysicsFieldTargetCount : packoffset(c250.w);
  int4 View_PhysicsFieldTargets[32] : packoffset(c251.x);
  uint View_GPUSceneViewId : packoffset(c283.x);
  float View_ViewResolutionFraction : packoffset(c283.y);
  float View_SubSurfaceColorAsTransmittanceAtDistanceInMeters : packoffset(c283.z);
  float View_MaxWPOScale : packoffset(c283.w);
  float4 View_TanAndInvTanHalfFOV : packoffset(c284.x);
  float4 View_PrevTanAndInvTanHalfFOV : packoffset(c285.x);
  float4 View_GlintLUTParameters0 : packoffset(c286.x);
  float4 View_GlintLUTParameters1 : packoffset(c287.x);
  uint BindlessSampler_View_MaterialTextureBilinearWrapedSampler : packoffset(c288.x);
  uint PrePadding_View_4612 : packoffset(c288.y);
  uint BindlessSampler_View_MaterialTextureBilinearClampedSampler : packoffset(c288.z);
  uint PrePadding_View_4620 : packoffset(c288.w);
  uint BindlessResource_View_VolumetricLightmapIndirectionTexture : packoffset(c289.x);
  uint PrePadding_View_4628 : packoffset(c289.y);
  uint BindlessResource_View_VolumetricLightmapBrickAmbientVector : packoffset(c289.z);
  uint PrePadding_View_4636 : packoffset(c289.w);
  uint BindlessResource_View_VolumetricLightmapBrickSHCoefficients0 : packoffset(c290.x);
  uint PrePadding_View_4644 : packoffset(c290.y);
  uint BindlessResource_View_VolumetricLightmapBrickSHCoefficients1 : packoffset(c290.z);
  uint PrePadding_View_4652 : packoffset(c290.w);
  uint BindlessResource_View_VolumetricLightmapBrickSHCoefficients2 : packoffset(c291.x);
  uint PrePadding_View_4660 : packoffset(c291.y);
  uint BindlessResource_View_VolumetricLightmapBrickSHCoefficients3 : packoffset(c291.z);
  uint PrePadding_View_4668 : packoffset(c291.w);
  uint BindlessResource_View_VolumetricLightmapBrickSHCoefficients4 : packoffset(c292.x);
  uint PrePadding_View_4676 : packoffset(c292.y);
  uint BindlessResource_View_VolumetricLightmapBrickSHCoefficients5 : packoffset(c292.z);
  uint PrePadding_View_4684 : packoffset(c292.w);
  uint BindlessResource_View_SkyBentNormalBrickTexture : packoffset(c293.x);
  uint PrePadding_View_4692 : packoffset(c293.y);
  uint BindlessResource_View_DirectionalLightShadowingBrickTexture : packoffset(c293.z);
  uint PrePadding_View_4700 : packoffset(c293.w);
  uint BindlessSampler_View_VolumetricLightmapBrickAmbientVectorSampler : packoffset(c294.x);
  uint PrePadding_View_4708 : packoffset(c294.y);
  uint BindlessSampler_View_VolumetricLightmapTextureSampler0 : packoffset(c294.z);
  uint PrePadding_View_4716 : packoffset(c294.w);
  uint BindlessSampler_View_VolumetricLightmapTextureSampler1 : packoffset(c295.x);
  uint PrePadding_View_4724 : packoffset(c295.y);
  uint BindlessSampler_View_VolumetricLightmapTextureSampler2 : packoffset(c295.z);
  uint PrePadding_View_4732 : packoffset(c295.w);
  uint BindlessSampler_View_VolumetricLightmapTextureSampler3 : packoffset(c296.x);
  uint PrePadding_View_4740 : packoffset(c296.y);
  uint BindlessSampler_View_VolumetricLightmapTextureSampler4 : packoffset(c296.z);
  uint PrePadding_View_4748 : packoffset(c296.w);
  uint BindlessSampler_View_VolumetricLightmapTextureSampler5 : packoffset(c297.x);
  uint PrePadding_View_4756 : packoffset(c297.y);
  uint BindlessSampler_View_SkyBentNormalTextureSampler : packoffset(c297.z);
  uint PrePadding_View_4764 : packoffset(c297.w);
  uint BindlessSampler_View_DirectionalLightShadowingTextureSampler : packoffset(c298.x);
  uint PrePadding_View_4772 : packoffset(c298.y);
  uint BindlessResource_View_GlobalDistanceFieldPageAtlasTexture : packoffset(c298.z);
  uint PrePadding_View_4780 : packoffset(c298.w);
  uint BindlessResource_View_GlobalDistanceFieldCoverageAtlasTexture : packoffset(c299.x);
  uint PrePadding_View_4788 : packoffset(c299.y);
  uint BindlessResource_View_GlobalDistanceFieldPageTableTexture : packoffset(c299.z);
  uint PrePadding_View_4796 : packoffset(c299.w);
  uint BindlessResource_View_GlobalDistanceFieldMipTexture : packoffset(c300.x);
  uint PrePadding_View_4804 : packoffset(c300.y);
  uint BindlessSampler_View_GlobalDistanceFieldPageAtlasTextureSampler : packoffset(c300.z);
  uint PrePadding_View_4812 : packoffset(c300.w);
  uint BindlessSampler_View_GlobalDistanceFieldCoverageAtlasTextureSampler : packoffset(c301.x);
  uint PrePadding_View_4820 : packoffset(c301.y);
  uint BindlessSampler_View_GlobalDistanceFieldMipTextureSampler : packoffset(c301.z);
  uint PrePadding_View_4828 : packoffset(c301.w);
  uint BindlessResource_View_AtmosphereTransmittanceTexture : packoffset(c302.x);
  uint PrePadding_View_4836 : packoffset(c302.y);
  uint BindlessSampler_View_AtmosphereTransmittanceTextureSampler : packoffset(c302.z);
  uint PrePadding_View_4844 : packoffset(c302.w);
  uint BindlessResource_View_AtmosphereIrradianceTexture : packoffset(c303.x);
  uint PrePadding_View_4852 : packoffset(c303.y);
  uint BindlessSampler_View_AtmosphereIrradianceTextureSampler : packoffset(c303.z);
  uint PrePadding_View_4860 : packoffset(c303.w);
  uint BindlessResource_View_AtmosphereInscatterTexture : packoffset(c304.x);
  uint PrePadding_View_4868 : packoffset(c304.y);
  uint BindlessSampler_View_AtmosphereInscatterTextureSampler : packoffset(c304.z);
  uint PrePadding_View_4876 : packoffset(c304.w);
  uint BindlessResource_View_PerlinNoiseGradientTexture : packoffset(c305.x);
  uint PrePadding_View_4884 : packoffset(c305.y);
  uint BindlessSampler_View_PerlinNoiseGradientTextureSampler : packoffset(c305.z);
  uint PrePadding_View_4892 : packoffset(c305.w);
  uint BindlessResource_View_PerlinNoise3DTexture : packoffset(c306.x);
  uint PrePadding_View_4900 : packoffset(c306.y);
  uint BindlessSampler_View_PerlinNoise3DTextureSampler : packoffset(c306.z);
  uint PrePadding_View_4908 : packoffset(c306.w);
  uint BindlessResource_View_SobolSamplingTexture : packoffset(c307.x);
  uint PrePadding_View_4916 : packoffset(c307.y);
  uint BindlessSampler_View_SharedPointWrappedSampler : packoffset(c307.z);
  uint PrePadding_View_4924 : packoffset(c307.w);
  uint BindlessSampler_View_SharedPointClampedSampler : packoffset(c308.x);
  uint PrePadding_View_4932 : packoffset(c308.y);
  uint BindlessSampler_View_SharedBilinearWrappedSampler : packoffset(c308.z);
  uint PrePadding_View_4940 : packoffset(c308.w);
  uint BindlessSampler_View_SharedBilinearClampedSampler : packoffset(c309.x);
  uint PrePadding_View_4948 : packoffset(c309.y);
  uint BindlessSampler_View_SharedBilinearAnisoClampedSampler : packoffset(c309.z);
  uint PrePadding_View_4956 : packoffset(c309.w);
  uint BindlessSampler_View_SharedTrilinearWrappedSampler : packoffset(c310.x);
  uint PrePadding_View_4964 : packoffset(c310.y);
  uint BindlessSampler_View_SharedTrilinearClampedSampler : packoffset(c310.z);
  uint PrePadding_View_4972 : packoffset(c310.w);
  uint BindlessResource_View_PreIntegratedBRDF : packoffset(c311.x);
  uint PrePadding_View_4980 : packoffset(c311.y);
  uint BindlessSampler_View_PreIntegratedBRDFSampler : packoffset(c311.z);
  uint PrePadding_View_4988 : packoffset(c311.w);
  uint BindlessResource_View_SkyIrradianceEnvironmentMap : packoffset(c312.x);
  uint PrePadding_View_4996 : packoffset(c312.y);
  uint BindlessResource_View_TransmittanceLutTexture : packoffset(c312.z);
  uint PrePadding_View_5004 : packoffset(c312.w);
  uint BindlessSampler_View_TransmittanceLutTextureSampler : packoffset(c313.x);
  uint PrePadding_View_5012 : packoffset(c313.y);
  uint BindlessResource_View_SkyViewLutTexture : packoffset(c313.z);
  uint PrePadding_View_5020 : packoffset(c313.w);
  uint BindlessSampler_View_SkyViewLutTextureSampler : packoffset(c314.x);
  uint PrePadding_View_5028 : packoffset(c314.y);
  uint BindlessResource_View_DistantSkyLightLutTexture : packoffset(c314.z);
  uint PrePadding_View_5036 : packoffset(c314.w);
  uint BindlessSampler_View_DistantSkyLightLutTextureSampler : packoffset(c315.x);
  uint PrePadding_View_5044 : packoffset(c315.y);
  uint BindlessResource_View_CameraAerialPerspectiveVolume : packoffset(c315.z);
  uint PrePadding_View_5052 : packoffset(c315.w);
  uint BindlessSampler_View_CameraAerialPerspectiveVolumeSampler : packoffset(c316.x);
  uint PrePadding_View_5060 : packoffset(c316.y);
  uint BindlessResource_View_CameraAerialPerspectiveVolumeMieOnly : packoffset(c316.z);
  uint PrePadding_View_5068 : packoffset(c316.w);
  uint BindlessSampler_View_CameraAerialPerspectiveVolumeMieOnlySampler : packoffset(c317.x);
  uint PrePadding_View_5076 : packoffset(c317.y);
  uint BindlessResource_View_CameraAerialPerspectiveVolumeRayOnly : packoffset(c317.z);
  uint PrePadding_View_5084 : packoffset(c317.w);
  uint BindlessSampler_View_CameraAerialPerspectiveVolumeRayOnlySampler : packoffset(c318.x);
  uint PrePadding_View_5092 : packoffset(c318.y);
  uint BindlessResource_View_HairScatteringLUTTexture : packoffset(c318.z);
  uint PrePadding_View_5100 : packoffset(c318.w);
  uint BindlessSampler_View_HairScatteringLUTSampler : packoffset(c319.x);
  uint PrePadding_View_5108 : packoffset(c319.y);
  uint BindlessResource_View_GGXLTCMatTexture : packoffset(c319.z);
  uint PrePadding_View_5116 : packoffset(c319.w);
  uint BindlessSampler_View_GGXLTCMatSampler : packoffset(c320.x);
  uint PrePadding_View_5124 : packoffset(c320.y);
  uint BindlessResource_View_GGXLTCAmpTexture : packoffset(c320.z);
  uint PrePadding_View_5132 : packoffset(c320.w);
  uint BindlessSampler_View_GGXLTCAmpSampler : packoffset(c321.x);
  uint PrePadding_View_5140 : packoffset(c321.y);
  uint BindlessResource_View_SheenLTCTexture : packoffset(c321.z);
  uint PrePadding_View_5148 : packoffset(c321.w);
  uint BindlessSampler_View_SheenLTCSampler : packoffset(c322.x);
  uint PrePadding_View_5156 : packoffset(c322.y);
  uint View_bShadingEnergyConservation : packoffset(c322.z);
  uint View_bShadingEnergyPreservation : packoffset(c322.w);
  uint BindlessResource_View_ShadingEnergyGGXSpecTexture : packoffset(c323.x);
  uint PrePadding_View_5172 : packoffset(c323.y);
  uint BindlessResource_View_ShadingEnergyGGXGlassTexture : packoffset(c323.z);
  uint PrePadding_View_5180 : packoffset(c323.w);
  uint BindlessResource_View_ShadingEnergyClothSpecTexture : packoffset(c324.x);
  uint PrePadding_View_5188 : packoffset(c324.y);
  uint BindlessResource_View_ShadingEnergyDiffuseTexture : packoffset(c324.z);
  uint PrePadding_View_5196 : packoffset(c324.w);
  uint BindlessSampler_View_ShadingEnergySampler : packoffset(c325.x);
  uint PrePadding_View_5204 : packoffset(c325.y);
  uint BindlessResource_View_GlintTexture : packoffset(c325.z);
  uint PrePadding_View_5212 : packoffset(c325.w);
  uint BindlessSampler_View_GlintSampler : packoffset(c326.x);
  uint PrePadding_View_5220 : packoffset(c326.y);
  uint BindlessResource_View_SimpleVolumeTexture : packoffset(c326.z);
  uint PrePadding_View_5228 : packoffset(c326.w);
  uint BindlessSampler_View_SimpleVolumeTextureSampler : packoffset(c327.x);
  uint PrePadding_View_5236 : packoffset(c327.y);
  uint BindlessResource_View_SimpleVolumeEnvTexture : packoffset(c327.z);
  uint PrePadding_View_5244 : packoffset(c327.w);
  uint BindlessSampler_View_SimpleVolumeEnvTextureSampler : packoffset(c328.x);
  uint PrePadding_View_5252 : packoffset(c328.y);
  uint BindlessResource_View_SSProfilesTexture : packoffset(c328.z);
  uint PrePadding_View_5260 : packoffset(c328.w);
  uint BindlessSampler_View_SSProfilesSampler : packoffset(c329.x);
  uint PrePadding_View_5268 : packoffset(c329.y);
  uint BindlessSampler_View_SSProfilesTransmissionSampler : packoffset(c329.z);
  uint PrePadding_View_5276 : packoffset(c329.w);
  uint BindlessResource_View_SSProfilesPreIntegratedTexture : packoffset(c330.x);
  uint PrePadding_View_5284 : packoffset(c330.y);
  uint BindlessSampler_View_SSProfilesPreIntegratedSampler : packoffset(c330.z);
  uint PrePadding_View_5292 : packoffset(c330.w);
  uint BindlessResource_View_SpecularProfileTexture : packoffset(c331.x);
  uint PrePadding_View_5300 : packoffset(c331.y);
  uint BindlessSampler_View_SpecularProfileSampler : packoffset(c331.z);
  uint PrePadding_View_5308 : packoffset(c331.w);
  uint BindlessResource_View_WaterIndirection : packoffset(c332.x);
  uint PrePadding_View_5316 : packoffset(c332.y);
  uint BindlessResource_View_WaterData : packoffset(c332.z);
  uint PrePadding_View_5324 : packoffset(c332.w);
  float4 View_RectLightAtlasSizeAndInvSize : packoffset(c333.x);
  float View_RectLightAtlasMaxMipLevel : packoffset(c334.x);
  float PrePadding_View_5348 : packoffset(c334.y);
  uint BindlessResource_View_RectLightAtlasTexture : packoffset(c334.z);
  uint PrePadding_View_5356 : packoffset(c334.w);
  uint BindlessSampler_View_RectLightAtlasSampler : packoffset(c335.x);
  uint PrePadding_View_5364 : packoffset(c335.y);
  uint PrePadding_View_5368 : packoffset(c335.z);
  uint PrePadding_View_5372 : packoffset(c335.w);
  float4 View_IESAtlasSizeAndInvSize : packoffset(c336.x);
  uint BindlessResource_View_IESAtlasTexture : packoffset(c337.x);
  uint PrePadding_View_5396 : packoffset(c337.y);
  uint BindlessSampler_View_IESAtlasSampler : packoffset(c337.z);
  uint PrePadding_View_5404 : packoffset(c337.w);
  uint BindlessSampler_View_LandscapeWeightmapSampler : packoffset(c338.x);
  uint PrePadding_View_5412 : packoffset(c338.y);
  uint BindlessResource_View_LandscapeIndirection : packoffset(c338.z);
  uint PrePadding_View_5420 : packoffset(c338.w);
  uint BindlessResource_View_LandscapePerComponentData : packoffset(c339.x);
  uint PrePadding_View_5428 : packoffset(c339.y);
  uint BindlessResource_View_VTFeedbackBuffer : packoffset(c339.z);
  uint PrePadding_View_5436 : packoffset(c339.w);
  uint BindlessResource_View_PhysicsFieldClipmapBuffer : packoffset(c340.x);
  uint PrePadding_View_5444 : packoffset(c340.y);
  uint PrePadding_View_5448 : packoffset(c340.z);
  uint PrePadding_View_5452 : packoffset(c340.w);
  float3 View_TLASRelativePreViewTranslation : packoffset(c341.x);
  float PrePadding_View_5468 : packoffset(c341.w);
  float3 View_TLASViewTilePosition : packoffset(c342.x);
};

SamplerState ColorSampler : register(s0);

SamplerState BloomSampler : register(s1);

SamplerState LumBilateralGridSampler : register(s2);

SamplerState BlurredLogLumSampler : register(s3);

SamplerState BloomDirtMaskSampler : register(s4);

SamplerState ColorGradingLUTSampler : register(s5);

[numthreads(8, 8, 1)]
void main(
    uint3 SV_DispatchThreadID: SV_DispatchThreadID,
    uint3 SV_GroupID: SV_GroupID,
    uint3 SV_GroupThreadID: SV_GroupThreadID,
    uint SV_GroupIndex: SV_GroupIndex) {
  float _29 = float((uint)SV_DispatchThreadID.x) + 0.5f;
  float _31 = float((uint)SV_DispatchThreadID.y) + 0.5f;
  float _523;
  float _524;
  float _525;
  if (!(max(abs(((_29 + float((uint)Output_ViewportMin.x)) * Output_ExtentInverse.x) + -0.5f), abs(((_31 + float((uint)Output_ViewportMin.y)) * Output_ExtentInverse.y) + -0.5f)) >= 0.5f)) {
    float _49 = Output_ExtentInverse.x * _29;
    float _50 = Output_ExtentInverse.y * _31;
    float _54 = Output_ViewportSizeInverse.x * Output_ViewportSize.y;
    float _76 = (LensPrincipalPointOffsetScale.z * (((Color_Extent.x * _49) - Color_ScreenPosToViewportBias.x) / Color_ScreenPosToViewportScale.x)) + LensPrincipalPointOffsetScale.x;
    float _77 = (LensPrincipalPointOffsetScale.w * (((Color_Extent.y * _50) - Color_ScreenPosToViewportBias.y) / Color_ScreenPosToViewportScale.y)) + LensPrincipalPointOffsetScale.y;
    float _81 = 1.4142135381698608f / sqrt((_54 * _54) + 1.0f);
    float _92 = EyeAdaptationBuffer[0].x;
    float _93 = EyeAdaptationBuffer[0].w;
    float _108 = float(((int)(uint)((bool)(_76 > 0.0f))) - ((int)(uint)((bool)(_76 < 0.0f))));
    float _109 = float(((int)(uint)((bool)(_77 > 0.0f))) - ((int)(uint)((bool)(_77 < 0.0f))));

    // float _114 = saturate(abs(_76) - ChromaticAberrationParams.z);
    // float _115 = saturate(abs(_77) - ChromaticAberrationParams.z);
    // float4 _166 = ColorTexture.SampleLevel(ColorSampler, float2(min(max(((((((_76 - ((_114 * ChromaticAberrationParams.x) * _108)) * LensPrincipalPointOffsetScaleInverse.z) + LensPrincipalPointOffsetScaleInverse.x) * Color_ScreenPosToViewportScale.x) + Color_ScreenPosToViewportBias.x) * Color_ExtentInverse.x), Color_UVViewportBilinearMin.x), Color_UVViewportBilinearMax.x), min(max(((((((_77 - ((_115 * ChromaticAberrationParams.x) * _109)) * LensPrincipalPointOffsetScaleInverse.w) + LensPrincipalPointOffsetScaleInverse.y) * Color_ScreenPosToViewportScale.y) + Color_ScreenPosToViewportBias.y) * Color_ExtentInverse.y), Color_UVViewportBilinearMin.y), Color_UVViewportBilinearMax.y)), 0.0f);
    // float4 _172 = ColorTexture.SampleLevel(ColorSampler, float2(min(max((((Color_ScreenPosToViewportScale.x * (((_76 - ((_114 * ChromaticAberrationParams.y) * _108)) * LensPrincipalPointOffsetScaleInverse.z) + LensPrincipalPointOffsetScaleInverse.x)) + Color_ScreenPosToViewportBias.x) * Color_ExtentInverse.x), Color_UVViewportBilinearMin.x), Color_UVViewportBilinearMax.x), min(max((((Color_ScreenPosToViewportScale.y * (((_77 - ((_115 * ChromaticAberrationParams.y) * _109)) * LensPrincipalPointOffsetScaleInverse.w) + LensPrincipalPointOffsetScaleInverse.y)) + Color_ScreenPosToViewportBias.y) * Color_ExtentInverse.y), Color_UVViewportBilinearMin.y), Color_UVViewportBilinearMax.y)), 0.0f);

    float3 chromatic_aberration = ChromaticAberrationParams.xyz * CUSTOM_CHROMATIC_ABERRATION;

    float _114 = saturate(abs(_76) - chromatic_aberration.z);
    float _115 = saturate(abs(_77) - chromatic_aberration.z);
    float4 _166 = ColorTexture.SampleLevel(ColorSampler, float2(min(max(((((((_76 - ((_114 * chromatic_aberration.x) * _108)) * LensPrincipalPointOffsetScaleInverse.z) + LensPrincipalPointOffsetScaleInverse.x) * Color_ScreenPosToViewportScale.x) + Color_ScreenPosToViewportBias.x) * Color_ExtentInverse.x), Color_UVViewportBilinearMin.x), Color_UVViewportBilinearMax.x), min(max(((((((_77 - ((_115 * chromatic_aberration.x) * _109)) * LensPrincipalPointOffsetScaleInverse.w) + LensPrincipalPointOffsetScaleInverse.y) * Color_ScreenPosToViewportScale.y) + Color_ScreenPosToViewportBias.y) * Color_ExtentInverse.y), Color_UVViewportBilinearMin.y), Color_UVViewportBilinearMax.y)), 0.0f);
    float4 _172 = ColorTexture.SampleLevel(ColorSampler, float2(min(max((((Color_ScreenPosToViewportScale.x * (((_76 - ((_114 * chromatic_aberration.y) * _108)) * LensPrincipalPointOffsetScaleInverse.z) + LensPrincipalPointOffsetScaleInverse.x)) + Color_ScreenPosToViewportBias.x) * Color_ExtentInverse.x), Color_UVViewportBilinearMin.x), Color_UVViewportBilinearMax.x), min(max((((Color_ScreenPosToViewportScale.y * (((_77 - ((_115 * chromatic_aberration.y) * _109)) * LensPrincipalPointOffsetScaleInverse.w) + LensPrincipalPointOffsetScaleInverse.y)) + Color_ScreenPosToViewportBias.y) * Color_ExtentInverse.y), Color_UVViewportBilinearMin.y), Color_UVViewportBilinearMax.y)), 0.0f);

    float _176 = min(max(_49, Color_UVViewportBilinearMin.x), Color_UVViewportBilinearMax.x);
    float _177 = min(max(_50, Color_UVViewportBilinearMin.y), Color_UVViewportBilinearMax.y);
    float4 _178 = ColorTexture.SampleLevel(ColorSampler, float2(_176, _177), 0.0f);
    float4 _200 = BloomTexture.SampleLevel(BloomSampler, float2(min(max(((ColorToBloom.x * _49) + ColorToBloom.z), BloomUVViewportBilinearMin.x), BloomUVViewportBilinearMax.x), min(max(((ColorToBloom.y * _50) + ColorToBloom.w), BloomUVViewportBilinearMin.y), BloomUVViewportBilinearMax.y)), 0.0f);

    _200 *= CUSTOM_BLOOM;

    float4 _210 = BloomDirtMaskTexture.SampleLevel(BloomDirtMaskSampler, float2(((_76 * 0.5f) + 0.5f), (0.5f - (_77 * 0.5f))), 0.0f);
    float _229 = (_76 * _81) * TonemapperParams.x;
    float _232 = ((_81 * _54) * _77) * TonemapperParams.x;
    float _235 = 1.0f / (dot(float2(_229, _232), float2(_229, _232)) * CUSTOM_VIGNETTE + 1.0f);
    float _243 = SceneColorApplyParamaters[0].x;
    float _244 = SceneColorApplyParamaters[0].y;
    float _245 = SceneColorApplyParamaters[0].z;
    float _256 = log2(max(dot(float3((_166.x * View_OneOverPreExposure), (_172.y * View_OneOverPreExposure), (_178.z * View_OneOverPreExposure)), float3(0.3333333432674408f, 0.3333333432674408f, 0.3333333432674408f)), EyeAdaptation_LuminanceMin));
    float _261 = log2((_93 * 0.18000000715255737f) * LocalExposure_MiddleGreyExposureCompensation);
    float4 _276 = LumBilateralGrid.SampleLevel(LumBilateralGridSampler, float3((LocalExposure_BilateralGridUVScale.x * _49), (LocalExposure_BilateralGridUVScale.y * _50), ((((EyeAdaptation_HistogramScale * _256) + EyeAdaptation_HistogramBias) * 0.96875f) + 0.015625f)), 0.0f);
    float4 _282 = BlurredLogLum.SampleLevel(BlurredLogLumSampler, float2(_49, _50), 0.0f);
    float _285 = select((_276.y < 0.0010000000474974513f), _282.x, (_276.x / _276.y));
    float _288 = log2(_92);
    float _290 = (_285 + _288) + ((_282.x - _285) * LocalExposure_BlurredLuminanceBlend);
    float _294 = _288 + _256;
    float _296 = _290 - _261;
    float _304 = exp2(((_261 - _294) + ((_294 - _290) * LocalExposure_DetailStrength)) + (select((_296 > 0.0f), LocalExposure_HighlightContrastScale, LocalExposure_ShadowContrastScale) * _296));
    float _306 = dot(float3(_166.x, _172.y, _178.z), float3(0.30000001192092896f, 0.5899999737739563f, 0.10999999940395355f));
    float4 _310 = ColorTexture.SampleLevel(ColorSampler, float2(min(max((_49 - Color_ExtentInverse.x), Color_UVViewportBilinearMin.x), Color_UVViewportBilinearMax.x), _177), 0.0f);
    float4 _317 = ColorTexture.SampleLevel(ColorSampler, float2(min(max((Color_ExtentInverse.x + _49), Color_UVViewportBilinearMin.x), Color_UVViewportBilinearMax.x), _177), 0.0f);
    float4 _324 = ColorTexture.SampleLevel(ColorSampler, float2(_176, min(max((_50 - Color_ExtentInverse.y), Color_UVViewportBilinearMin.y), Color_UVViewportBilinearMax.y)), 0.0f);
    float4 _331 = ColorTexture.SampleLevel(ColorSampler, float2(_176, min(max((Color_ExtentInverse.y + _50), Color_UVViewportBilinearMin.y), Color_UVViewportBilinearMax.y)), 0.0f);
    float _350 = _92 * View_OneOverPreExposure;
    float _356 = -0.0f - (TonemapperParams.y * saturate(1.0f - ((_350 * _304) * max(max(abs(_306 - dot(float3(_310.x, _310.y, _310.z), float3(0.30000001192092896f, 0.5899999737739563f, 0.10999999940395355f))), abs(_306 - dot(float3(_317.x, _317.y, _317.z), float3(0.30000001192092896f, 0.5899999737739563f, 0.10999999940395355f)))), max(abs(_306 - dot(float3(_324.x, _324.y, _324.z), float3(0.30000001192092896f, 0.5899999737739563f, 0.10999999940395355f))), abs(_306 - dot(float3(_331.x, _331.y, _331.z), float3(0.30000001192092896f, 0.5899999737739563f, 0.10999999940395355f))))))));
    float _378 = _350 * (_235 * _235);
    float _379 = _378 * _304;

    HandleLocalExposure(_350, _378, _379);

    float _401 = exp2(log2(((((_243 * ColorScale0.x) * _379) * ((((((_310.x - (_166.x * 4.0f)) + _317.x) + _324.x) + _331.x) * _356) + _166.x)) + ((((BloomDirtMaskTint.x * _210.x) + 1.0f) * _200.x) * _378)) * 0.009999999776482582f) * 0.1593017578125f);
    float _402 = exp2(log2(((((_244 * ColorScale0.y) * _379) * ((((((_310.y - (_172.y * 4.0f)) + _317.y) + _324.y) + _331.y) * _356) + _172.y)) + ((((BloomDirtMaskTint.y * _210.y) + 1.0f) * _200.y) * _378)) * 0.009999999776482582f) * 0.1593017578125f);
    float _403 = exp2(log2(((((_245 * ColorScale0.z) * _379) * ((((((_310.z - (_178.z * 4.0f)) + _317.z) + _324.z) + _331.z) * _356) + _178.z)) + ((((BloomDirtMaskTint.z * _210.z) + 1.0f) * _200.z) * _378)) * 0.009999999776482582f) * 0.1593017578125f);
    float4 _442 = ColorGradingLUT.SampleLevel(ColorGradingLUTSampler, float3(((LUTScale * exp2(log2((1.0f / ((_401 * 18.6875f) + 1.0f)) * ((_401 * 18.8515625f) + 0.8359375f)) * 78.84375f)) + LUTOffset), ((LUTScale * exp2(log2((1.0f / ((_402 * 18.6875f) + 1.0f)) * ((_402 * 18.8515625f) + 0.8359375f)) * 78.84375f)) + LUTOffset), ((LUTScale * exp2(log2((1.0f / ((_403 * 18.6875f) + 1.0f)) * ((_403 * 18.8515625f) + 0.8359375f)) * 78.84375f)) + LUTOffset)), 0.0f);
    float _446 = _442.x * 1.0499999523162842f;
    float _447 = _442.y * 1.0499999523162842f;
    float _448 = _442.z * 1.0499999523162842f;
    float _449 = dot(float3(_446, _447, _448), float3(0.29899999499320984f, 0.5870000123977661f, 0.11400000005960464f));

    HandleLUTOutput(_446, _447, _448, _449, float2(_49, _50), true);

    [branch]
    if (!((uint)(bOutputInHDR) == 0)) {
      float _460 = (pow(_446, 0.012683313339948654f));
      float _461 = (pow(_447, 0.012683313339948654f));
      float _462 = (pow(_448, 0.012683313339948654f));
      float _495 = max(6.103519990574569e-05f, ((exp2(log2(max(0.0f, (_460 + -0.8359375f)) / (18.8515625f - (_460 * 18.6875f))) * 6.277394771575928f) * 10000.0f) / EditorNITLevel));
      float _496 = max(6.103519990574569e-05f, ((exp2(log2(max(0.0f, (_461 + -0.8359375f)) / (18.8515625f - (_461 * 18.6875f))) * 6.277394771575928f) * 10000.0f) / EditorNITLevel));
      float _497 = max(6.103519990574569e-05f, ((exp2(log2(max(0.0f, (_462 + -0.8359375f)) / (18.8515625f - (_462 * 18.6875f))) * 6.277394771575928f) * 10000.0f) / EditorNITLevel));
      _523 = min((_495 * 12.920000076293945f), ((exp2(log2(max(_495, 0.0031306699384003878f)) * 0.4166666567325592f) * 1.0549999475479126f) + -0.054999999701976776f));
      _524 = min((_496 * 12.920000076293945f), ((exp2(log2(max(_496, 0.0031306699384003878f)) * 0.4166666567325592f) * 1.0549999475479126f) + -0.054999999701976776f));
      _525 = min((_497 * 12.920000076293945f), ((exp2(log2(max(_497, 0.0031306699384003878f)) * 0.4166666567325592f) * 1.0549999475479126f) + -0.054999999701976776f));
    } else {
      _523 = _446;
      _524 = _447;
      _525 = _448;
    }

    float _544 = 0.0f;
    if (CUSTOM_GRAIN_TYPE == 0.f) {
      float _532 = (frac(sin((GrainRandomFull.x + _49) + ((GrainRandomFull.y + _50) * 543.3099975585938f)) * 493013.0f) * 2.0f) + -1.0f;
      float _535 = min(max((_532 * +1.#INF), -1.0f), 1.0f);
      _544 = (_535 - (sqrt(saturate(1.0f - abs(_532))) * _535)) * BackbufferQuantizationDithering;
    }
    uint _551 = Output_ViewportMin.x + SV_DispatchThreadID.x;
    uint _552 = Output_ViewportMin.y + SV_DispatchThreadID.y;
    RWOutputTexture[int2(_551, _552)] = float4((_544 + _523), (_544 + _524), (_544 + _525), 0.0f);
    RWOutputLuminance[int2(_551, _552)] = _449;
  }
}
